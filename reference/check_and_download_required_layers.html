<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Check and download GEE-sourced layers based on metadata requirements — check_and_download_required_layers • elsar</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Check and download GEE-sourced layers based on metadata requirements — check_and_download_required_layers"><meta name="description" content="This function checks for required layer names from metadata, ensures they exist
in the output path, and optionally prompts the user to download them from GEE
if missing. Used internally by other functions to automatically download
required datasets."><meta property="og:description" content="This function checks for required layer names from metadata, ensures they exist
in the output path, and optionally prompts the user to download them from GEE
if missing. Used internally by other functions to automatically download
required datasets."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">elsar</a>

    <small class="nav-text text-info me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/data-info.html">Processing global data in R</a></li>
    <li><a class="dropdown-item" href="../articles/elsaR.html">An Example ELSA Workflow</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Check and download GEE-sourced layers based on metadata requirements</h1>

      <div class="d-none name"><code>check_and_download_required_layers.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function checks for required layer names from metadata, ensures they exist
in the output path, and optionally prompts the user to download them from GEE
if missing. Used internally by other functions to automatically download
required datasets.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_and_download_required_layers</span><span class="op">(</span></span>
<span>  <span class="va">data_info</span>,</span>
<span>  <span class="va">iso3</span>,</span>
<span>  <span class="va">input_path</span>,</span>
<span>  <span class="va">gee_project</span>,</span>
<span>  <span class="va">boundary_proj</span>,</span>
<span>  wait_time <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  interactive <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data-info">data_info<a class="anchor" aria-label="anchor" href="#arg-data-info"></a></dt>
<dd><p>Data.frame containing <code>data_name</code> fields to match against requirements.</p></dd>


<dt id="arg-iso-">iso3<a class="anchor" aria-label="anchor" href="#arg-iso-"></a></dt>
<dd><p>Character. ISO3 country code for the target country.</p></dd>


<dt id="arg-input-path">input_path<a class="anchor" aria-label="anchor" href="#arg-input-path"></a></dt>
<dd><p>Character. Path where data files should exist or be downloaded to.</p></dd>


<dt id="arg-gee-project">gee_project<a class="anchor" aria-label="anchor" href="#arg-gee-project"></a></dt>
<dd><p>Character. Google Earth Engine project ID.</p></dd>


<dt id="arg-boundary-proj">boundary_proj<a class="anchor" aria-label="anchor" href="#arg-boundary-proj"></a></dt>
<dd><p>An <code>sf</code> object representing the country boundary.</p></dd>


<dt id="arg-wait-time">wait_time<a class="anchor" aria-label="anchor" href="#arg-wait-time"></a></dt>
<dd><p>Numeric. Wait time (in minutes) for Drive export. Default is 5.</p></dd>


<dt id="arg-interactive">interactive<a class="anchor" aria-label="anchor" href="#arg-interactive"></a></dt>
<dd><p>Logical. If TRUE (default), prompts user before downloading.
If FALSE, automatically downloads missing layers without prompting. Set to
FALSE for non-interactive sessions (e.g., batch jobs, CI/CD pipelines).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisible NULL. Files are downloaded as a side effect.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Interactive mode (default) - prompts user</span></span></span>
<span class="r-in"><span><span class="fu">check_and_download_required_layers</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data_info <span class="op">=</span> <span class="va">metadata_df</span>,</span></span>
<span class="r-in"><span>  iso3 <span class="op">=</span> <span class="st">"GHA"</span>,</span></span>
<span class="r-in"><span>  input_path <span class="op">=</span> <span class="st">"/path/to/data"</span>,</span></span>
<span class="r-in"><span>  gee_project <span class="op">=</span> <span class="st">"my-project"</span>,</span></span>
<span class="r-in"><span>  boundary_proj <span class="op">=</span> <span class="va">ghana_boundary</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Non-interactive mode - auto-downloads without prompts</span></span></span>
<span class="r-in"><span><span class="fu">check_and_download_required_layers</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data_info <span class="op">=</span> <span class="va">metadata_df</span>,</span></span>
<span class="r-in"><span>  iso3 <span class="op">=</span> <span class="st">"GHA"</span>,</span></span>
<span class="r-in"><span>  input_path <span class="op">=</span> <span class="st">"/path/to/data"</span>,</span></span>
<span class="r-in"><span>  gee_project <span class="op">=</span> <span class="st">"my-project"</span>,</span></span>
<span class="r-in"><span>  boundary_proj <span class="op">=</span> <span class="va">ghana_boundary</span>,</span></span>
<span class="r-in"><span>  interactive <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Scott Atkinson, Sandra Neubert.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

