<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>An Example ELSA Workflow • elsar</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="An Example ELSA Workflow">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">elsar</a>

    <small class="nav-text text-info me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/data-info.html">Global Data Processing Reference</a></li>
    <li><a class="dropdown-item" href="../articles/elsaR.html">An Example ELSA Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/naming_conventions.html">File Naming Conventions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="elsaR_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>An Example ELSA Workflow</h1>
            
      

      <div class="d-none name"><code>elsaR.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
</div>
<div class="section level3">
<h3 id="get-started">Get started<a class="anchor" aria-label="anchor" href="#get-started"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://elsa-undp.github.io/elsar/">elsar</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://prioritizr.net" class="external-link">prioritizr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># set seed for reproducibility</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">500</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="planning-region">Planning Region<a class="anchor" aria-label="anchor" href="#planning-region"></a>
</h3>
<p>At the start of the analysis, the planning region needs to be defined and planning units need to be created for the planning region. In this example, we use Nepal as our case study to demonstrate the functions within this package.</p>
<p>For this, we first obtain the country boundary of Nepal by using its iso3 string (“NPL”). Normally, you would need to provide your own data set with country boundaries to filter from. Data can be loaded from local machines in vector or raster format, or using a remote connection via postgres using the <code><a href="../reference/elsar_load_data.html">elsar_load_data()</a></code> function. Here, we use a pre-saved dataset.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create boundary for Nepal</span></span>
<span><span class="va">boundary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_boundary.html">make_boundary</a></span><span class="op">(</span></span>
<span>  boundary_in <span class="op">=</span> <span class="va">boundary_dat</span>,</span>
<span>  iso3 <span class="op">=</span> <span class="st">"NPL"</span>,</span>
<span>  iso3_column <span class="op">=</span> <span class="st">"iso3cd"</span>,</span>
<span>  custom_projection <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:38] Creating boundary for planning region...</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">boundary</span><span class="op">)</span></span></code></pre></div>
<p><img src="elsaR_files/figure-html/unnamed-chunk-3-1.png" class="r-plt" width="336" style="display: block; margin: auto;"></p>
<p>The <code><a href="../reference/make_boundary.html">make_boundary()</a></code> function also provides the option to create a custom projection centred on the planning region. This can also be done in separate steps using the <code><a href="../reference/make_custom_projection.html">make_custom_projection()</a></code> function, which is integrated in the <code><a href="../reference/make_boundary.html">make_boundary()</a></code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">boundary_proj</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_boundary.html">make_boundary</a></span><span class="op">(</span></span>
<span>  boundary_in <span class="op">=</span> <span class="va">boundary_dat</span>,</span>
<span>  iso3 <span class="op">=</span> <span class="st">"NPL"</span>,</span>
<span>  iso3_column <span class="op">=</span> <span class="st">"iso3cd"</span>,</span>
<span>  custom_projection <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:38] Creating boundary for planning region...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:38] Creating custom Mollweide projection centred on planning region...</span></span>
<span></span>
<span><span class="co"># create custom projection and apply it to boundary</span></span>
<span><span class="va">wkt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_custom_projection.html">make_custom_projection</a></span><span class="op">(</span>boundary <span class="op">=</span> <span class="va">boundary</span>, iso3 <span class="op">=</span> <span class="st">"NPL"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:38] Creating custom Mollweide projection centred on planning region...</span></span>
<span><span class="va">boundary_proj2</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">boundary</span>, crs <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">wkt</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We can test whether the two crs of the boundaries match.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># test crs</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">boundary_proj</span><span class="op">)</span> <span class="op">==</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">boundary_proj2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="planning-units">Planning Units<a class="anchor" aria-label="anchor" href="#planning-units"></a>
</h3>
<p>For defining a conservation planning problem, we need to subdivide the planning region into smaller planning units which can either be selected or not in the downstream prioritization and which the feature information can be attributed to. The function has an option to add a desired planning unit size. If none is provided, the function aims to make planning units as small as possible whilst still being computationally efficient. The default for this is set to 850,000 planning units, which is based on previous experience with run time.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># make planning units</span></span>
<span><span class="va">pus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_planning_units.html">make_planning_units</a></span><span class="op">(</span></span>
<span>  boundary_proj <span class="op">=</span> <span class="va">boundary_proj</span>,</span>
<span>  pu_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pu_threshold <span class="op">=</span> <span class="fl">8.5e5</span>,</span>
<span>  limit_to_mainland <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  iso3 <span class="op">=</span> <span class="st">"NPL"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:38] pu_size not provided: estimating size to target &lt;= 850000 PUs (allowing 5% tolerance).</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:38] Iteration 1: 741036 PUs at resolution 450 m</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:39] Iteration 2: 830662 PUs at resolution 425 m</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:39] Iteration 3: 937494 PUs at resolution 400 m</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:39] Exceeded soft threshold (892500); using best previous result.</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:39] Final PU layer: 830662 PUs at 425 m resolution.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h3>
<p>Biodiversity features are an integral part of conservation planning. Features can range from species distributions, to more general over-arching datasets such as Key Biodiversity Areas (ref). In our example, we will use only one dataset, the World Atlas of Desertification’s (WAD; see <a href="https://wad.jrc.ec.europa.eu/" class="external-link uri">https://wad.jrc.ec.europa.eu/</a>) <em>Convergence of Global Change Issues</em> dataset. Again, input data can first be loaded using the <code><a href="../reference/elsar_load_data.html">elsar_load_data()</a></code> function (here we have the dataset already saved in the package; change later).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get feature data</span></span>
<span><span class="va">wad_subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_wad_data.html">get_wad_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:39] Loading WAD subset data from package...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:39] WAD subset data loaded successfully.</span></span></code></pre></div>
<p>The data then needs to be re-projected and re-sampled to exactly match the resolution and extent of the previously created planning units. We also normalise the data to only have values within the range 0-1.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># crop and normalise data</span></span>
<span><span class="va">wadOut</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_normalised_raster.html">make_normalised_raster</a></span><span class="op">(</span></span>
<span>  raster_in <span class="op">=</span> <span class="va">wad_subset</span>,</span>
<span>  pus <span class="op">=</span> <span class="va">pus</span>,</span>
<span>  iso3 <span class="op">=</span> <span class="st">"NPL"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">wadOut</span><span class="op">)</span></span></code></pre></div>
<p><img src="elsaR_files/figure-html/unnamed-chunk-8-1.png" class="r-plt" width="336" style="display: block; margin: auto;"></p>
<p>Instead of only having a quick look at the data by using the <code>terra</code> package’s <code>plot</code> function, we can also create a plot using the plotting options integrated in the <code>elsar</code> package, such as <code><a href="../reference/elsar_plot_static_raster.html">elsar_plot_static_raster()</a></code>, which allows to plot continuous raster data with <code>ggplot</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">plot_wad</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/elsar_plot_static_raster.html">elsar_plot_static_raster</a></span><span class="op">(</span></span>
<span>  raster_in <span class="op">=</span> <span class="va">wadOut</span>,</span>
<span>  legend_title <span class="op">=</span> <span class="st">"WAD"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:41] Creating static raster plot (continuous, ggplot_vector)...</span></span></code></pre></div>
<p><img src="elsaR_files/figure-html/unnamed-chunk-9-1.png" class="r-plt" width="672" style="display: block; margin: auto;"></p>
<p>We can also add background data to the plot and add additional properties to change the appearance of the plot by using the <code><a href="../reference/elsar_plot_optics.html">elsar_plot_optics()</a></code> function that allows to specify a specific <code>ggplot</code> theme. We can also change the colour palette to be something other than the default “viridis”.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">custom_p</span> <span class="op">&lt;-</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_distiller</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"WAD"</span>,</span>
<span>  palette <span class="op">=</span> <span class="st">"YlGnBu"</span>,</span>
<span>  aesthetics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fill"</span><span class="op">)</span>,</span>
<span>  oob <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/oob.html" class="external-link">squish</a></span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">plot_wad</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/elsar_plot_static_raster.html">elsar_plot_static_raster</a></span><span class="op">(</span></span>
<span>  raster_in <span class="op">=</span> <span class="va">wadOut</span>,</span>
<span>  custom_palette <span class="op">=</span> <span class="va">custom_p</span>,</span>
<span>  background <span class="op">=</span> <span class="va">wad_subset</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/elsar_plot_optics.html">elsar_plot_optics</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:45] Creating static raster plot (continuous, ggplot_vector)...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:45] Adding background layer (continuous)...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:49] Extending based on ratio (5%)...</span></span></code></pre></div>
<p><img src="elsaR_files/figure-html/unnamed-chunk-10-1.png" class="r-plt" width="768" style="display: block; margin: auto;"></p>
<p>If needed, logos can be included on the map. The location is dependent on the plot dimensions and therefore needs to be adjusted based on the figure, for example by using <code><a href="https://rspatial.github.io/terra/reference/ext.html" class="external-link">terra::ext()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#topRight</span></span>
<span><span class="va">x_min</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/ext.html" class="external-link">ext</a></span><span class="op">(</span><span class="va">wadOut</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">x_max</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/ext.html" class="external-link">ext</a></span><span class="op">(</span><span class="va">wadOut</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">y_min</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/ext.html" class="external-link">ext</a></span><span class="op">(</span><span class="va">wadOut</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">y_max</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/ext.html" class="external-link">ext</a></span><span class="op">(</span><span class="va">wadOut</span><span class="op">)</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">img_xmax</span> <span class="op">&lt;-</span> <span class="va">x_max</span> <span class="op">+</span> <span class="va">x_max</span> <span class="op">*</span> <span class="fl">0.09</span></span>
<span><span class="va">img_xmin</span> <span class="op">&lt;-</span> <span class="va">img_xmax</span> <span class="op">*</span> <span class="fl">0.8</span></span>
<span><span class="va">img_ymax</span> <span class="op">&lt;-</span> <span class="va">y_max</span> <span class="op">+</span> <span class="va">y_max</span> <span class="op">*</span> <span class="fl">0.102</span></span>
<span><span class="va">img_ymin</span> <span class="op">&lt;-</span> <span class="va">img_ymax</span> <span class="op">*</span> <span class="fl">0.8</span></span>
<span></span>
<span><span class="va">img_pos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">img_xmin</span>, <span class="va">img_xmax</span>, <span class="va">img_ymin</span>, <span class="va">img_ymax</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">plot_out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/elsar_plot_static_raster.html">elsar_plot_static_raster</a></span><span class="op">(</span></span>
<span>  raster_in <span class="op">=</span> <span class="va">wadOut</span>,</span>
<span>  background <span class="op">=</span> <span class="va">wad_subset</span>,</span>
<span>  legend_title <span class="op">=</span> <span class="st">"WAD"</span>,</span>
<span>  expand_plot <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/elsar_plot_optics.html">elsar_plot_optics</a></span><span class="op">(</span>include_logo <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                      logo_path <span class="op">=</span> <span class="st">"figures/elsaR_hex_sticker.png"</span>, <span class="co">#change to logo later</span></span>
<span>                      logo_pos <span class="op">=</span> <span class="va">img_pos</span>,</span>
<span>                      logo_dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">60</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:56] Creating static raster plot (continuous, ggplot_vector)...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:56] Adding background layer (continuous)...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:42:59] Extending based on ratio (5%)...</span></span></code></pre></div>
<p><img src="elsaR_files/figure-html/unnamed-chunk-11-1.png" class="r-plt" width="768" style="display: block; margin: auto;"></p>
<p>If we are interested in the distribution, we can also plot the distribution on the plots. For this, we need to create two separate plots that we then put together:</p>
<p>We can also transform the data into categories and plot the main plot and the inset that way.</p>
</div>
<div class="section level3">
<h3 id="existing-protected-area">Existing Protected Area<a class="anchor" aria-label="anchor" href="#existing-protected-area"></a>
</h3>
<p>Protected areas can be overlaid on feature maps to visualize their spatial relationship with biodiversity values.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">current_pas</span> <span class="op">&lt;-</span> <span class="va">current_pas_sf</span></span>
<span></span>
<span><span class="op">(</span><span class="va">plot_wad_pas</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/elsar_plot_static_raster.html">elsar_plot_static_raster</a></span><span class="op">(</span></span>
<span>  raster_in <span class="op">=</span> <span class="va">wadOut</span>,</span>
<span>  background <span class="op">=</span> <span class="va">wad_subset</span>,</span>
<span>  legend_title <span class="op">=</span> <span class="st">"WAD"</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/elsar_plot_extra_data.html">elsar_plot_extra_data</a></span><span class="op">(</span>include_pas <span class="op">=</span> <span class="va">current_pas</span>, color_pa <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/elsar_plot_optics.html">elsar_plot_optics</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [2026-02-20 13:43:06] Creating static raster plot (continuous, ggplot_vector)...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:43:06] Adding background layer (continuous)...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:43:09] Extending based on ratio (5%)...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:43:10] Adding PA layer with 'contours' style...</span></span>
<span><span class="co">#&gt; Coordinate system already present.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Adding new coordinate system, which will replace the existing one.</span></span></code></pre></div>
<p><img src="elsaR_files/figure-html/unnamed-chunk-14-1.png" class="r-plt" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">plot_wad_pas2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/elsar_plot_static_raster.html">elsar_plot_static_raster</a></span><span class="op">(</span></span>
<span>  raster_in <span class="op">=</span> <span class="va">wadOut</span>,</span>
<span>  background <span class="op">=</span> <span class="va">wad_subset</span>,</span>
<span>  legend_title <span class="op">=</span> <span class="st">"WAD"</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/elsar_plot_extra_data.html">elsar_plot_extra_data</a></span><span class="op">(</span>include_pas <span class="op">=</span> <span class="va">current_pas</span>, pas_look <span class="op">=</span> <span class="st">"area"</span>, color_pa <span class="op">=</span> <span class="st">"grey"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/elsar_plot_optics.html">elsar_plot_optics</a></span><span class="op">(</span>include_north_scale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [2026-02-20 13:43:15] Creating static raster plot (continuous, ggplot_vector)...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:43:15] Adding background layer (continuous)...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:43:19] Extending based on ratio (5%)...</span></span>
<span><span class="co">#&gt; [2026-02-20 13:43:19] Adding PA layer with 'area' style...</span></span>
<span><span class="co">#&gt; Coordinate system already present.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Adding new coordinate system, which will replace the existing one.</span></span></code></pre></div>
<p><img src="elsaR_files/figure-html/unnamed-chunk-15-1.png" class="r-plt" width="672" style="display: block; margin: auto;"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Scott Atkinson, Sandra Neubert.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
