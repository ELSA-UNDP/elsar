[{"path":"https://elsa-undp.github.io/elsar/articles/data-info.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Global Data Processing Reference","text":"elsar package provides functions process various global datasets use ELSA (Essential Life Support Areas) conservation planning. reference table summarises available datasets, corresponding R functions, processing notes.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/articles/data-info.html","id":"notes","dir":"Articles","previous_headings":"","what":"Notes","title":"Global Data Processing Reference","text":"Tested: Indicates whether function tested real data (Y = Yes, N = ). Since: elsar version function first available. datasets use make_normalised_raster() standard processing optional parameters (e.g., inverse = TRUE). datasets require specialised functions (e.g., make_kbas(), make_mangroves(), make_forest_integrity()). Datasets “NA” dataset name fixed global source file may vary country analysis.","code":""},{"path":"https://elsa-undp.github.io/elsar/articles/data-info.html","id":"removed-datasets","dir":"Articles","previous_headings":"","what":"Removed Datasets","title":"Global Data Processing Reference","text":"following datasets previously listed removed longer supported: Certified Forests — deprecated, replacement. Landcover Layers — replaced LULC download functions (download_lulc_data(), download_lulc_proportions()). Mountains/Glaciers — currently implemented. Productive Managed Forests — currently implemented. Urban Extreme Heat — currently implemented. Yield Gap — currently implemented. Landmark Areas — currently implemented.","code":""},{"path":[]},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/articles/elsaR.html","id":"get-started","dir":"Articles","previous_headings":"Overview","what":"Get started","title":"An Example ELSA Workflow","text":"","code":"# load packages library(elsar) library(prioritizr) library(dplyr) library(ggplot2) library(sf) library(terra)  # set seed for reproducibility set.seed(500)"},{"path":"https://elsa-undp.github.io/elsar/articles/elsaR.html","id":"planning-region","dir":"Articles","previous_headings":"Overview","what":"Planning Region","title":"An Example ELSA Workflow","text":"start analysis, planning region needs defined planning units need created planning region. example, use Nepal case study demonstrate functions within package. , first obtain country boundary Nepal using iso3 string (“NPL”). Normally, need provide data set country boundaries filter . Data can loaded local machines vector raster format, using remote connection via postgres using elsar_load_data() function. , use pre-saved dataset.  make_boundary() function also provides option create custom projection centred planning region. can also done separate steps using make_custom_projection() function, integrated make_boundary() function. can test whether two crs boundaries match.","code":"# create boundary for Nepal boundary <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\",   custom_projection = FALSE ) #> [2026-02-20 14:04:33] Creating boundary for planning region...  ggplot() +   geom_sf(data = boundary) boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\",   custom_projection = TRUE ) #> [2026-02-20 14:04:33] Creating boundary for planning region... #> [2026-02-20 14:04:33] Creating custom Mollweide projection centred on planning region...  # create custom projection and apply it to boundary wkt <- make_custom_projection(boundary = boundary, iso3 = \"NPL\") #> [2026-02-20 14:04:33] Creating custom Mollweide projection centred on planning region... boundary_proj2 <- sf::st_transform(boundary, crs = sf::st_crs(wkt)) # test crs print(sf::st_crs(boundary_proj) == sf::st_crs(boundary_proj2)) #> [1] TRUE"},{"path":"https://elsa-undp.github.io/elsar/articles/elsaR.html","id":"planning-units","dir":"Articles","previous_headings":"Overview","what":"Planning Units","title":"An Example ELSA Workflow","text":"defining conservation planning problem, need subdivide planning region smaller planning units can either selected downstream prioritization feature information can attributed . function option add desired planning unit size. none provided, function aims make planning units small possible whilst still computationally efficient. default set 850,000 planning units, based previous experience run time.","code":"# make planning units pus <- make_planning_units(   boundary_proj = boundary_proj,   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE,   iso3 = \"NPL\" ) #> [2026-02-20 14:04:33] pu_size not provided: estimating size to target <= 850000 PUs (allowing 5% tolerance). #> [2026-02-20 14:04:33] Iteration 1: 741036 PUs at resolution 450 m #> [2026-02-20 14:04:33] Iteration 2: 830662 PUs at resolution 425 m #> [2026-02-20 14:04:33] Iteration 3: 937494 PUs at resolution 400 m #> [2026-02-20 14:04:33] Exceeded soft threshold (892500); using best previous result. #> [2026-02-20 14:04:33] Final PU layer: 830662 PUs at 425 m resolution."},{"path":"https://elsa-undp.github.io/elsar/articles/elsaR.html","id":"features","dir":"Articles","previous_headings":"Overview","what":"Features","title":"An Example ELSA Workflow","text":"Biodiversity features integral part conservation planning. Features can range species distributions, general -arching datasets Key Biodiversity Areas (ref). example, use one dataset, World Atlas Desertification’s (WAD; see https://wad.jrc.ec.europa.eu/) Convergence Global Change Issues dataset. , input data can first loaded using elsar_load_data() function (dataset already saved package; change later). data needs re-projected re-sampled exactly match resolution extent previously created planning units. also normalise data values within range 0-1.  Instead quick look data using terra package’s plot function, can also create plot using plotting options integrated elsar package, elsar_plot_static_raster(), allows plot continuous raster data ggplot.  can also add background data plot add additional properties change appearance plot using elsar_plot_optics() function allows specify specific ggplot theme. can also change colour palette something default “viridis”.  needed, logos can included map. location dependent plot dimensions therefore needs adjusted based figure, example using terra::ext().  interested distribution, can also plot distribution plots. , need create two separate plots put together: can also transform data categories plot main plot inset way.","code":"# get feature data wad_subset <- get_wad_data() #> [2026-02-20 14:04:33] Loading WAD subset data from package... #> [2026-02-20 14:04:33] WAD subset data loaded successfully. # crop and normalise data wadOut <- make_normalised_raster(   raster_in = wad_subset,   pus = pus,   iso3 = \"NPL\" )  terra::plot(wadOut) (plot_wad <- elsar_plot_static_raster(   raster_in = wadOut,   legend_title = \"WAD\" )) #> [2026-02-20 14:04:35] Creating static raster plot (continuous, ggplot_vector)... custom_p <- ggplot2::scale_fill_distiller(   name = \"WAD\",   palette = \"YlGnBu\",   aesthetics = c(\"fill\"),   oob = scales::squish )  (plot_wad <- elsar_plot_static_raster(   raster_in = wadOut,   custom_palette = custom_p,   background = wad_subset ) +   elsar_plot_optics()) #> [2026-02-20 14:04:40] Creating static raster plot (continuous, ggplot_vector)... #> [2026-02-20 14:04:40] Adding background layer (continuous)... #> [2026-02-20 14:04:44] Extending based on ratio (5%)... #topRight x_min <- terra::ext(wadOut)[1][[1]] x_max <- terra::ext(wadOut)[2][[1]] y_min <- terra::ext(wadOut)[3][[1]] y_max <- terra::ext(wadOut)[4][[1]]  img_xmax <- x_max + x_max * 0.09 img_xmin <- img_xmax * 0.8 img_ymax <- y_max + y_max * 0.102 img_ymin <- img_ymax * 0.8  img_pos <- c(img_xmin, img_xmax, img_ymin, img_ymax)  (plot_out <- elsar_plot_static_raster(   raster_in = wadOut,   background = wad_subset,   legend_title = \"WAD\",   expand_plot = TRUE ) +   elsar_plot_optics(include_logo = TRUE,                       logo_path = \"figures/elsaR_hex_sticker.png\", #change to logo later                       logo_pos = img_pos,                       logo_dim = c(50, 60))) #> [2026-02-20 14:04:50] Creating static raster plot (continuous, ggplot_vector)... #> [2026-02-20 14:04:50] Adding background layer (continuous)... #> [2026-02-20 14:04:54] Extending based on ratio (5%)..."},{"path":"https://elsa-undp.github.io/elsar/articles/elsaR.html","id":"existing-protected-area","dir":"Articles","previous_headings":"Overview","what":"Existing Protected Area","title":"An Example ELSA Workflow","text":"Protected areas can overlaid feature maps visualize spatial relationship biodiversity values.","code":"current_pas <- current_pas_sf  (plot_wad_pas <- elsar_plot_static_raster(   raster_in = wadOut,   background = wad_subset,   legend_title = \"WAD\" ) +   elsar_plot_extra_data(include_pas = current_pas, color_pa = \"red\") +   elsar_plot_optics()) #> [2026-02-20 14:05:01] Creating static raster plot (continuous, ggplot_vector)... #> [2026-02-20 14:05:01] Adding background layer (continuous)... #> [2026-02-20 14:05:04] Extending based on ratio (5%)... #> [2026-02-20 14:05:04] Adding PA layer with 'contours' style... #> Coordinate system already present. #> ℹ Adding new coordinate system, which will replace the existing one. (plot_wad_pas2 <- elsar_plot_static_raster(   raster_in = wadOut,   background = wad_subset,   legend_title = \"WAD\" ) +   elsar_plot_extra_data(include_pas = current_pas, pas_look = \"area\", color_pa = \"grey\") +   elsar_plot_optics(include_north_scale = TRUE)) #> [2026-02-20 14:05:10] Creating static raster plot (continuous, ggplot_vector)... #> [2026-02-20 14:05:10] Adding background layer (continuous)... #> [2026-02-20 14:05:13] Extending based on ratio (5%)... #> [2026-02-20 14:05:14] Adding PA layer with 'area' style... #> Coordinate system already present. #> ℹ Adding new coordinate system, which will replace the existing one."},{"path":"https://elsa-undp.github.io/elsar/articles/naming_conventions.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"File Naming Conventions","text":"document describes standardised naming conventions input output datasets used ELSA analyses. Consistent naming improves file organisation, makes datasets easier identify, ensures reproducibility across different countries analysis tiers.","code":""},{"path":"https://elsa-undp.github.io/elsar/articles/naming_conventions.html","id":"general-rules","dir":"Articles","previous_headings":"","what":"General Rules","title":"File Naming Conventions","text":"lowercase — file names use lowercase letters. Underscores spaces — use underscores (_) separate words. special characters — avoid hyphens, periods (except file extension), special characters. descriptive — file name convey content, geographic scope, analysis tier glance.","code":""},{"path":"https://elsa-undp.github.io/elsar/articles/naming_conventions.html","id":"analysis-tiers","dir":"Articles","previous_headings":"","what":"Analysis Tiers","title":"File Naming Conventions","text":"ELSA analyses organised three tiers based source resolution input data: tier code appended filenames produced elsar pipeline indicate level analysis generated output.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/articles/naming_conventions.html","id":"pipeline-outputs","dir":"Articles","previous_headings":"File Name Structure","what":"Pipeline outputs","title":"File Naming Conventions","text":"Outputs elsar functions follow pattern: Examples:","code":"<description>_<iso3>_<tier>.<ext> protect_zone_hti_t2.tif restore_zone_zaf_t1.tif planning_units_kaz_t3.tif protected_areas_dom_t2.tif"},{"path":"https://elsa-undp.github.io/elsar/articles/naming_conventions.html","id":"temporal-datasets","dir":"Articles","previous_headings":"File Name Structure","what":"Temporal datasets","title":"File Naming Conventions","text":"Datasets vary time (e.g., land use/land cover) include year: Examples:","code":"<description>_<year>_<iso3>_<tier>.<ext> esri_10m_proportion_2023_gha_t2.tif deforestation_risk_2020_dom_t2.tif"},{"path":"https://elsa-undp.github.io/elsar/articles/naming_conventions.html","id":"lulc-class-layers","dir":"Articles","previous_headings":"File Name Structure","what":"LULC class layers","title":"File Naming Conventions","text":"LULC proportion layers additionally include land cover class: Examples:","code":"<product>_proportion_<year>_<iso3>_<class>.<ext> esri_10m_proportion_2023_gha_agriculture.tif dynamic_world_proportion_2023_ken_built_area.tif"},{"path":"https://elsa-undp.github.io/elsar/articles/naming_conventions.html","id":"figures","dir":"Articles","previous_headings":"File Name Structure","what":"Figures","title":"File Naming Conventions","text":"Plot outputs follow convention .png extension: Examples:","code":"<description>_<iso3>.png protect_zone_hti.png forest_integrity_zaf.png"},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/articles/naming_conventions.html","id":"folder-structure","dir":"Articles","previous_headings":"","what":"Folder Structure","title":"File Naming Conventions","text":"recommended layout organising ELSA analysis outputs: inputs/ — raw preprocessed input datasets. outputs/ — outputs generated elsar pipeline. reports/ — final reports, summaries, documentation.","code":"elsa_<iso3>/ ├── inputs/ │   ├── rasters/ │   └── vectors/ ├── outputs/ │   ├── rasters/ │   ├── vectors/ │   └── figures/ └── reports/"},{"path":"https://elsa-undp.github.io/elsar/articles/naming_conventions.html","id":"versioning-and-date-stamps","dir":"Articles","previous_headings":"","what":"Versioning and Date Stamps","title":"File Naming Conventions","text":"Versioning — multiple versions dataset exist, append version number description, specific term project, e.g., restoring_hope: protect_zone_v2_dom_t2.tif, protect_zone_restoring_hope_dom_t1.tif Date stamps — needed, append date YYYYMMDD format: protect_zone_20240601_dom_t2.tif.","code":""},{"path":"https://elsa-undp.github.io/elsar/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Scott Atkinson. Author, maintainer. Sandra Neubert. Author.","code":""},{"path":"https://elsa-undp.github.io/elsar/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Atkinson S, Neubert S (2026). elsar: Functions Tools Creating ELSA Data Stacks. R package version 0.1.0, https://elsa-undp.github.io/elsar/.","code":"@Manual{,   title = {elsar: Functions and Tools For Creating ELSA Data Stacks},   author = {Scott Atkinson and Sandra Neubert},   year = {2026},   note = {R package version 0.1.0},   url = {https://elsa-undp.github.io/elsar/}, }"},{"path":"https://elsa-undp.github.io/elsar/index.html","id":"elsar-","dir":"","previous_headings":"","what":"Functions and Tools For Creating ELSA Data Stacks","title":"Functions and Tools For Creating ELSA Data Stacks","text":"elsar package provides tools data pipelines support Essential Life Support Areas (ELSA) conservation planning. designed assist spatial prioritization scenario development using globally standardized geospatial data layers.","code":""},{"path":"https://elsa-undp.github.io/elsar/index.html","id":"what-does-elsar-do","dir":"","previous_headings":"","what":"What does elsar do?","title":"Functions and Tools For Creating ELSA Data Stacks","text":"Prepare planning regions: Create boundaries planning units country Process global datasets: Load harmonize spatial datasets (WDPA, KBA, LANDMark, ICCA, etc.) Create zone layers: Generate protect, restore, manage zone rasters Calculate metrics: Compute spatial coverage planning units Visualize results: Plot raster data customizable styling","code":""},{"path":"https://elsa-undp.github.io/elsar/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Functions and Tools For Creating ELSA Data Stacks","text":"","code":"# Install the development version from GitHub remotes::install_github(\"ELSA-UNDP/elsar\")"},{"path":"https://elsa-undp.github.io/elsar/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Functions and Tools For Creating ELSA Data Stacks","text":"","code":"library(elsar)  # Create a boundary for Nepal boundary <- make_boundary(    boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\",   custom_projection = TRUE )  # Create planning units pus <- make_planning_units(  boundary_proj = boundary,   pu_threshold = 8.5e5,   iso3 = \"NPL\" )  # Load and normalize a feature layer wad <- get_wad_data() wad_norm <- make_normalised_raster(   raster_in = wad,   pus = pus,   iso3 = \"NPL\" )  # Plot the result elsar_plot_static_raster(   raster_in = wad_norm,   legend_title = \"WAD\" )"},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Functions and Tools For Creating ELSA Data Stacks","text":"Package website Getting started vignette","code":""},{"path":"https://elsa-undp.github.io/elsar/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Functions and Tools For Creating ELSA Data Stacks","text":"CC 4.0","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/boundary_dat.html","id":null,"dir":"Reference","previous_headings":"","what":"Boundary data for Southern Asia — boundary_dat","title":"Boundary data for Southern Asia — boundary_dat","text":"sf object containing boundary information Southern Asia, used extracting country boundaries (e.g., Nepal).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/boundary_dat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Boundary data for Southern Asia — boundary_dat","text":"","code":"boundary_dat"},{"path":"https://elsa-undp.github.io/elsar/reference/boundary_dat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Boundary data for Southern Asia — boundary_dat","text":"sf data frame polygon geometries.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/boundary_dat.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Boundary data for Southern Asia — boundary_dat","text":"GADM database https://gadm.org/","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/calc_feat_rep.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate feature representation — calc_feat_rep","title":"Calculate feature representation — calc_feat_rep","text":"function calculates feature representation single feature per zone comapred possible PUs feature across zones. E.g. 60 100 possible PUs selected zone 1 50 100 possible PUs selected zone 2: mean overall feature representation planning region 60% (60/100) + 50% (50/100) (= 110%, > 100%) Instead need get representation zone versus possible planning units whole region. means case zones share overlapping possible area prior prioritisation, 200 possible planning units overall feature planning region. representation across whole planning region : 60/200 + 50/200, 110/200 (= 55%)","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/calc_feat_rep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate feature representation — calc_feat_rep","text":"","code":"calc_feat_rep(prob.all, elsa_result, elsa_raster, feat_df, ELSA_text)"},{"path":"https://elsa-undp.github.io/elsar/reference/calc_feat_rep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate feature representation — calc_feat_rep","text":"prob.prioritizr problem. Needed input prioritizr function eval_feature_representation_summary() elsa_result prioritizr solution. Needed input prioritizr function eval_feature_representation_summary() elsa_raster SpatRaster containing label information zones used obtain solution. zero values. feat_df df containing information features, including columns \"label\" \"theme\" ELSA_text tbl_df containing translations displayed text plot. Needs","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/calc_feat_rep.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate feature representation — calc_feat_rep","text":"list two tbl_df, one raw data second data prepared plotting.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/calculate_restore_and_urban_budgets.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate restore and urban green zone budgets as percentages — calculate_restore_and_urban_budgets","title":"Calculate restore and urban green zone budgets as percentages — calculate_restore_and_urban_budgets","text":"function calculates budget restore urban green zones percentage total planning unit (PU) area specified country.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/calculate_restore_and_urban_budgets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate restore and urban green zone budgets as percentages — calculate_restore_and_urban_budgets","text":"","code":"calculate_restore_and_urban_budgets(   iso3,   workspace_dir = NULL,   coverage_fraction = 0.3,   pu_raster = \"planning_units.tif\",   restore_zone_raster = \"restore_zone_v1.tif\",   urban_areas_raster = \"urban_areas.tif\" )"},{"path":"https://elsa-undp.github.io/elsar/reference/calculate_restore_and_urban_budgets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate restore and urban green zone budgets as percentages — calculate_restore_and_urban_budgets","text":"iso3 3-letter ISO3 country code (e.g., \"MWI\"). Used reference. workspace_dir Path directory containing raster inputs (hardcoded ISO3). coverage_fraction Fraction zone coverage use budget (default: 0.3). pu_raster Filename planning unit raster (within workspace_dir). Default: \"planning_units.tif\". restore_zone_raster Filename restore zone raster (within workspace_dir). Default: \"restore_zone_v1.tif\". urban_areas_raster Filename urban areas raster (within workspace_dir). Default: \"urban_areas.tif\".","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/calculate_restore_and_urban_budgets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate restore and urban green zone budgets as percentages — calculate_restore_and_urban_budgets","text":"named numeric vector two elements: restore_budget_pct urban_green_budget_pct, representing budget percentage total PU area.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/calculate_restore_and_urban_budgets.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate restore and urban green zone budgets as percentages — calculate_restore_and_urban_budgets","text":"restore zone typically represents degraded areas, urban green zone typically represents mapped urban areas. budget calculated fixed fraction (default 30%) coverage respective zone PU layer. function assumes input rasters co-aligned represent valid binary zone masks.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/calculate_restore_and_urban_budgets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate restore and urban green zone budgets as percentages — calculate_restore_and_urban_budgets","text":"","code":"if (FALSE) { # \\dontrun{ calculate_restore_and_urban_budgets(\"MWI\", workspace_dir = \"/path/to/my-data/az_uploads\") } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/check_and_download_required_layers.html","id":null,"dir":"Reference","previous_headings":"","what":"Check and download GEE-sourced layers based on metadata requirements — check_and_download_required_layers","title":"Check and download GEE-sourced layers based on metadata requirements — check_and_download_required_layers","text":"function checks required layer names metadata, ensures exist output path, optionally prompts user download GEE missing. Used internally functions automatically download required datasets.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/check_and_download_required_layers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check and download GEE-sourced layers based on metadata requirements — check_and_download_required_layers","text":"","code":"check_and_download_required_layers(   data_info,   iso3,   input_path,   gee_project,   boundary_proj,   wait_time = 5,   interactive = TRUE,   lulc_product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\"),   pus = NULL,   aggregate_to_pus = FALSE,   skip_lulc = FALSE )"},{"path":"https://elsa-undp.github.io/elsar/reference/check_and_download_required_layers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check and download GEE-sourced layers based on metadata requirements — check_and_download_required_layers","text":"data_info Data.frame containing data_name fields match requirements. iso3 Character. ISO3 country code target country. input_path Character. Path data files exist downloaded . gee_project Character. Google Earth Engine project ID. boundary_proj sf object representing country boundary. wait_time Numeric. Wait time (minutes) Drive export. Default 5. interactive Logical. TRUE (default), prompts user downloading. FALSE, automatically downloads missing layers without prompting. Set FALSE non-interactive sessions (e.g., batch jobs, CI/CD pipelines). lulc_product Character. LULC product download: \"esri_10m\" (default), \"dynamic_world\", \"esa_worldcover\". Affects product downloaded LULC data required. pus SpatRaster NULL. Planning units GEE-side aggregation. aggregate_to_pus Logical. TRUE pus provided, aggregate GEE download. Default FALSE. skip_lulc Logical. TRUE, skip downloading categorical LULC data. Use LULC proportions downloaded separately via download_lulc_proportions(). Default FALSE.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/check_and_download_required_layers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check and download GEE-sourced layers based on metadata requirements — check_and_download_required_layers","text":"Invisible NULL. Files downloaded side effect.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/check_and_download_required_layers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check and download GEE-sourced layers based on metadata requirements — check_and_download_required_layers","text":"","code":"if (FALSE) { # \\dontrun{ # Interactive mode (default) - prompts user check_and_download_required_layers(   data_info = metadata_df,   iso3 = \"GHA\",   input_path = \"/path/to/data\",   gee_project = \"my-project\",   boundary_proj = ghana_boundary )  # Non-interactive mode - auto-downloads without prompts check_and_download_required_layers(   data_info = metadata_df,   iso3 = \"GHA\",   input_path = \"/path/to/data\",   gee_project = \"my-project\",   boundary_proj = ghana_boundary,   interactive = FALSE )  # Use Dynamic World instead of ESRI LULC check_and_download_required_layers(   data_info = metadata_df,   iso3 = \"GHA\",   input_path = \"/path/to/data\",   gee_project = \"my-project\",   boundary_proj = ghana_boundary,   lulc_product = \"dynamic_world\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/cleanup_earthengine.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean up Earth Engine environment — cleanup_earthengine","title":"Clean up Earth Engine environment — cleanup_earthengine","text":"Removes temporary conda environment one created initialization. called end function uses initialize_earthengine().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/cleanup_earthengine.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean up Earth Engine environment — cleanup_earthengine","text":"","code":"cleanup_earthengine(env_info)"},{"path":"https://elsa-undp.github.io/elsar/reference/cleanup_earthengine.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean up Earth Engine environment — cleanup_earthengine","text":"env_info List returned initialize_earthengine() containing temp_env info","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/cleanup_earthengine.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clean up Earth Engine environment — cleanup_earthengine","text":"","code":"if (FALSE) { # \\dontrun{ env_info <- initialize_earthengine() # ... do work with GEE ... cleanup_earthengine(env_info) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/conditionally_subdivide_bbox.html","id":null,"dir":"Reference","previous_headings":"","what":"Conditionally Subdivide Bounding Box into Grid Tiles Based on Geographic Extent — conditionally_subdivide_bbox","title":"Conditionally Subdivide Bounding Box into Grid Tiles Based on Geographic Extent — conditionally_subdivide_bbox","text":"function checks whether geographic extent sf object's bounding box exceeds specified threshold degrees (longitude latitude). , splits bounding box regular grid rectangular tiles approximately tile_size_deg degrees size. , simply returns original input.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/conditionally_subdivide_bbox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Conditionally Subdivide Bounding Box into Grid Tiles Based on Geographic Extent — conditionally_subdivide_bbox","text":"","code":"conditionally_subdivide_bbox(bbox_sf, degree_threshold = 10, tile_size_deg = 5)"},{"path":"https://elsa-undp.github.io/elsar/reference/conditionally_subdivide_bbox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Conditionally Subdivide Bounding Box into Grid Tiles Based on Geographic Extent — conditionally_subdivide_bbox","text":"bbox_sf sf object. bounding box used subdivision logic. degree_threshold Numeric. Threshold degrees lat/lon span trigger subdivision. Default 10. tile_size_deg Numeric. Approximate tile width/height degrees. Default 5.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/conditionally_subdivide_bbox.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Conditionally Subdivide Bounding Box into Grid Tiles Based on Geographic Extent — conditionally_subdivide_bbox","text":"sf object. Either: grid tiles (rectangular polygons) subdivision triggered, original input bbox_sf unchanged.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/conditionally_subdivide_bbox.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Conditionally Subdivide Bounding Box into Grid Tiles Based on Geographic Extent — conditionally_subdivide_bbox","text":"useful improve performance running spatial operations (e.g., intersect) large countries regions breaking work spatial chunks benefit spatial indexing.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/conditionally_subdivide_bbox.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Conditionally Subdivide Bounding Box into Grid Tiles Based on Geographic Extent — conditionally_subdivide_bbox","text":"","code":"if (FALSE) { # \\dontrun{   world <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"))   tiles <- conditionally_subdivide_bbox(world)   plot(st_geometry(world))   plot(st_geometry(tiles), add = TRUE, border = \"red\") } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/convert_points_polygon.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Points to Buffered Polygons Based on Area — convert_points_polygon","title":"Convert Points to Buffered Polygons Based on Area — convert_points_polygon","text":"function converts POINT MULTIPOINT geometries circular polygons using specified area attribute calculate radius (assuming area hectares another square unit). buffer created projected CRS (default: Mollweide, EPSG:54009) transformed back input CRS. Optionally, original polygon features can retained combined buffered features.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/convert_points_polygon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Points to Buffered Polygons Based on Area — convert_points_polygon","text":"","code":"convert_points_polygon(   sf_layer,   area_attr = \"REP_AREA\",   area_crs = \"ESRI:54009\",   nQuadSegs = 50,   append_original_polygons = TRUE,   area_multiplier = 1e+06 )"},{"path":"https://elsa-undp.github.io/elsar/reference/convert_points_polygon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Points to Buffered Polygons Based on Area — convert_points_polygon","text":"sf_layer sf object containing geometries, including points multipoints area column. area_attr Character. Name attribute column contains site area (default: \"REP_AREA\"). area_crs Character. CRS used buffering operation (default: \"ESRI:54009\" = World Mollweide). nQuadSegs Integer. Number segments per circle quadrant buffering (default: 50). append_original_polygons Logical. TRUE, appends original polygons buffered features (default: TRUE). area_multiplier Numeric. Multiplier applied area attribute convert units (e.g., 1e4 hectares m2).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/convert_points_polygon.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Points to Buffered Polygons Based on Area — convert_points_polygon","text":"sf object containing polygon features (either buffered points, original polygons, ). sf object can empty. valid features found, returns NULL.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/convert_points_polygon.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert Points to Buffered Polygons Based on Area — convert_points_polygon","text":"","code":"if (FALSE) { # \\dontrun{ buffered <- convert_points_polygon(   sf_layer = my_kba_layer,   area_attr = \"gisarea\",   area_crs = \"ESRI:54009\",   append_original_polygons = TRUE ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/create_gee_conda_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Create temporary conda environment for GEE — create_gee_conda_env","title":"Create temporary conda environment for GEE — create_gee_conda_env","text":"Creates temporary conda environment earthengine-api installed. Handles conda path detection environment activation.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/create_gee_conda_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create temporary conda environment for GEE — create_gee_conda_env","text":"","code":"create_gee_conda_env()"},{"path":"https://elsa-undp.github.io/elsar/reference/create_gee_conda_env.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create temporary conda environment for GEE — create_gee_conda_env","text":"Character. Name created environment.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/crop_global_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Crop a Global Raster to the Extent of Planning Units — crop_global_raster","title":"Crop a Global Raster to the Extent of Planning Units — crop_global_raster","text":"function crops large global raster spatial extent planning units raster (pus). reprojects pus extent coordinate reference system input global raster ensure accurate cropping. useful pre-processing global inputs using functions like make_normalised_raster() reduce processing time.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/crop_global_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Crop a Global Raster to the Extent of Planning Units — crop_global_raster","text":"","code":"crop_global_raster(raster_in, pus, threads = TRUE)"},{"path":"https://elsa-undp.github.io/elsar/reference/crop_global_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Crop a Global Raster to the Extent of Planning Units — crop_global_raster","text":"raster_in SpatRaster. large input raster (e.g., global dataset). pus SpatRaster. Planning units raster used define target extent. threads Optional method use multi-core processing - speed terra functions (default: TRUE).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/crop_global_raster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Crop a Global Raster to the Extent of Planning Units — crop_global_raster","text":"cropped SpatRaster CRS raster_in extent matching reprojected pus.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/crop_global_raster.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Crop a Global Raster to the Extent of Planning Units — crop_global_raster","text":"","code":"if (FALSE) { # \\dontrun{ cropped <- crop_global_raster(global_raster, pus) |>   elsar::make_normalised_raster(pus = pus, iso3 = \"KEN\") } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/current_pas_sf.html","id":null,"dir":"Reference","previous_headings":"","what":"Current Protected Areas — current_pas_sf","title":"Current Protected Areas — current_pas_sf","text":"sf object containing current protected areas World Database Protected Areas (WDPA).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/current_pas_sf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Current Protected Areas — current_pas_sf","text":"","code":"current_pas_sf"},{"path":"https://elsa-undp.github.io/elsar/reference/current_pas_sf.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Current Protected Areas — current_pas_sf","text":"sf data frame polygon geometries.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/current_pas_sf.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Current Protected Areas — current_pas_sf","text":"UNEP-WCMC IUCN WDPA https://www.protectedplanet.net/","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_dynamic_world_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Google Dynamic World Annual Composite — download_dynamic_world_data","title":"Download Google Dynamic World Annual Composite — download_dynamic_world_data","text":"Downloads annual mode composite Google Dynamic World. Creates pixel-wise mode (frequent class) composite specified year. Dynamic World provides near-real-time land use/land cover classification 10m resolution.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_dynamic_world_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Google Dynamic World Annual Composite — download_dynamic_world_data","text":"","code":"download_dynamic_world_data(   boundary_layer,   iso3,   gee_project,   output_dir = here::here(),   year = NULL,   pus = NULL,   aggregate_to_pus = FALSE,   wait_time = 5,   ... )"},{"path":"https://elsa-undp.github.io/elsar/reference/download_dynamic_world_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Google Dynamic World Annual Composite — download_dynamic_world_data","text":"boundary_layer sf object defining spatial boundary interest. iso3 Character. Three-letter ISO country code filename generation. gee_project Character. Google Earth Engine cloud project ID. required must valid GEE project access . Find project ID GEE Code Editor. output_dir Character. Local output directory. Defaults project root via ::(). year Numeric NULL. Year annual composite. NULL (default), uses previous calendar year. pus SpatRaster NULL. Planning units raster GEE-side aggregation. provided aggregate_to_pus = TRUE, export resampled match PU resolution projection GEE download. aggregate_to_pus Logical. TRUE pus provided, aggregate data planning unit resolution GEE export. significantly speeds processing eliminating local resampling. Default FALSE. wait_time Numeric. Maximum time minutes wait GEE export appear Google Drive. Default 5. Increase large exports. ... Additional arguments passed download_gee_layer().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_dynamic_world_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Google Dynamic World Annual Composite — download_dynamic_world_data","text":"SpatRaster object downloaded Dynamic World data, NULL download failed.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_dynamic_world_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Google Dynamic World Annual Composite — download_dynamic_world_data","text":"Google Dynamic World class values: 0: Water 1: Trees 2: Grass 3: Flooded vegetation 4: Crops 5: Shrub & Scrub 6: Built Area 7: Bare ground 8: Snow & Ice Use get_lulc_classes(\"dynamic_world\") retrieve mappings programmatically.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/download_dynamic_world_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Google Dynamic World Annual Composite — download_dynamic_world_data","text":"","code":"if (FALSE) { # \\dontrun{ # Download Dynamic World annual composite for Ghana dw_lulc <- download_dynamic_world_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-gee-project\",   year = 2023 )  # Download with GEE-side aggregation to planning units dw_lulc_agg <- download_dynamic_world_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-gee-project\",   pus = planning_units,   aggregate_to_pus = TRUE ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/download_esa_worldcover_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download ESA WorldCover Data — download_esa_worldcover_data","title":"Download ESA WorldCover Data — download_esa_worldcover_data","text":"Downloads ESA WorldCover 10m land cover data Google Earth Engine. WorldCover v200 static 2021 baseline product without annual updates.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_esa_worldcover_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download ESA WorldCover Data — download_esa_worldcover_data","text":"","code":"download_esa_worldcover_data(   boundary_layer,   iso3,   gee_project,   output_dir = here::here(),   pus = NULL,   aggregate_to_pus = FALSE,   wait_time = 5,   ... )"},{"path":"https://elsa-undp.github.io/elsar/reference/download_esa_worldcover_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download ESA WorldCover Data — download_esa_worldcover_data","text":"boundary_layer sf object defining spatial boundary interest. iso3 Character. Three-letter ISO country code filename generation. gee_project Character. Google Earth Engine cloud project ID. required must valid GEE project access . Find project ID GEE Code Editor. output_dir Character. Local output directory. Defaults project root via ::(). pus SpatRaster NULL. Planning units raster GEE-side aggregation. provided aggregate_to_pus = TRUE, export resampled match PU resolution projection GEE download. aggregate_to_pus Logical. TRUE pus provided, aggregate data planning unit resolution GEE export. significantly speeds processing eliminating local resampling. Default FALSE. wait_time Numeric. Maximum time minutes wait GEE export appear Google Drive. Default 5. Increase large exports. ... Additional arguments passed download_gee_layer().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_esa_worldcover_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download ESA WorldCover Data — download_esa_worldcover_data","text":"SpatRaster object downloaded ESA WorldCover data, NULL download failed.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_esa_worldcover_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download ESA WorldCover Data — download_esa_worldcover_data","text":"ESA WorldCover class values: 10: Tree cover 20: Shrubland 30: Grassland 40: Cropland 50: Built-60: Bare / sparse vegetation 70: Snow ice 80: Permanent water bodies 90: Herbaceous wetland 95: Mangroves 100: Moss lichen Use get_lulc_classes(\"esa_worldcover\") retrieve mappings programmatically.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_esa_worldcover_data.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download ESA WorldCover Data — download_esa_worldcover_data","text":"ESA WorldCover v200 static 2021 baseline product. Unlike ESRI LULC Dynamic World, annual updates.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/download_esa_worldcover_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download ESA WorldCover Data — download_esa_worldcover_data","text":"","code":"if (FALSE) { # \\dontrun{ # Download ESA WorldCover for Ghana esa_lulc <- download_esa_worldcover_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-gee-project\" )  # Download with GEE-side aggregation to planning units esa_lulc_agg <- download_esa_worldcover_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-gee-project\",   pus = planning_units,   aggregate_to_pus = TRUE ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/download_esri_lulc_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download the ESRI 10m Land Use/Land Cover Time Series (LULC) Layer — download_esri_lulc_data","title":"Download the ESRI 10m Land Use/Land Cover Time Series (LULC) Layer — download_esri_lulc_data","text":"Retrieves ESRI Global LULC Time Series 10m resolution Earth Engine. Downloads recent year available returns result local Cloud-Optimized GeoTIFF appropriate layer naming.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_esri_lulc_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download the ESRI 10m Land Use/Land Cover Time Series (LULC) Layer — download_esri_lulc_data","text":"","code":"download_esri_lulc_data(   boundary_layer,   iso3,   gee_project,   output_dir = here::here(),   pus = NULL,   aggregate_to_pus = FALSE,   wait_time = 5,   ... )"},{"path":"https://elsa-undp.github.io/elsar/reference/download_esri_lulc_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download the ESRI 10m Land Use/Land Cover Time Series (LULC) Layer — download_esri_lulc_data","text":"boundary_layer sf object defining spatial boundary interest. iso3 Character. Three-letter ISO country code filename generation. gee_project Character. Google Earth Engine cloud project ID. required must valid GEE project access . Find project ID GEE Code Editor. output_dir Character. Local output directory. Defaults project root via ::() pus SpatRaster NULL. Planning units raster GEE-side aggregation. provided aggregate_to_pus = TRUE, export resampled match PU resolution projection GEE download. aggregate_to_pus Logical. TRUE pus provided, aggregate data planning unit resolution GEE export. significantly speeds processing eliminating local resampling. Default FALSE. wait_time Numeric. Maximum time minutes wait GEE export appear Google Drive. Default 5. Increase large exports. ... Additional arguments passed download_gee_layer().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_esri_lulc_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download the ESRI 10m Land Use/Land Cover Time Series (LULC) Layer — download_esri_lulc_data","text":"SpatRaster object downloaded LULC data, NULL download failed","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/download_esri_lulc_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download the ESRI 10m Land Use/Land Cover Time Series (LULC) Layer — download_esri_lulc_data","text":"","code":"if (FALSE) { # \\dontrun{ # Download LULC data for Ghana lulc <- download_esri_lulc_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-gee-project\" )  # Download with GEE-side aggregation to planning units lulc_agg <- download_esri_lulc_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-gee-project\",   pus = planning_units,   aggregate_to_pus = TRUE ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/download_from_drive.html","id":null,"dir":"Reference","previous_headings":"","what":"Download files from Google Drive — download_from_drive","title":"Download files from Google Drive — download_from_drive","text":"Downloads files matching specified prefix Google Drive folder. Files filtered include .tif files matching prefix pattern.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_from_drive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download files from Google Drive — download_from_drive","text":"","code":"download_from_drive(drive_folder, file_prefix, local_path)"},{"path":"https://elsa-undp.github.io/elsar/reference/download_from_drive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download files from Google Drive — download_from_drive","text":"drive_folder Character NULL. Google Drive folder name/path, NULL root. file_prefix Character. Prefix search filenames. local_path Character. Local directory path files downloaded.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_from_drive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download files from Google Drive — download_from_drive","text":"Invisible list success (logical) files (character vector successfully downloaded file paths). Returns success = FALSE download fails.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_from_drive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download files from Google Drive — download_from_drive","text":"","code":"if (FALSE) { # \\dontrun{ result <- download_from_drive(\"my_gee_exports\", \"esri_lulc_2024_GHA\", \"/tmp/downloads\") if (!result$success) warning(\"Some downloads failed\") } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/download_gee_layer.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and Process a GEE Raster Layer into a Cloud-Optimized GeoTIFF — download_gee_layer","title":"Download and Process a GEE Raster Layer into a Cloud-Optimized GeoTIFF — download_gee_layer","text":"Generic function downloading raster data Google Earth Engine. Handles authentication, export management, file downloading, processing local Cloud-Optimized GeoTIFF. Exports Google Drive root avoid GEE folder duplication bugs.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_gee_layer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and Process a GEE Raster Layer into a Cloud-Optimized GeoTIFF — download_gee_layer","text":"","code":"download_gee_layer(   boundary_layer,   iso3,   gee_project,   asset_id,   file_prefix,   output_dir = here::here(),   scale = 10,   datatype = \"INT1U\",   googledrive_folder = NULL,   wait_time = 5,   band = NULL,   composite_method = c(\"mosaic\", \"mode\", \"median\", \"mean\"),   year_override = NULL,   pus = NULL,   aggregate_to_pus = FALSE,   aggregation_reducer = c(\"mode\", \"mean\", \"sum\") )"},{"path":"https://elsa-undp.github.io/elsar/reference/download_gee_layer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download and Process a GEE Raster Layer into a Cloud-Optimized GeoTIFF — download_gee_layer","text":"boundary_layer sf object defining spatial boundary interest. iso3 Character. Three-letter ISO country code filename generation. gee_project Character. Google Earth Engine cloud project ID. required must valid GEE project access . Find project ID GEE Code Editor. asset_id Character. Earth Engine ImageCollection asset ID (e.g., \"projects/sat-io/open-datasets/...\"). file_prefix Character. Prefix export filename GEE task description. output_dir Character. Path directory saving final raster file. Defaults project root via ::(). scale Numeric. Resolution exported image meters. Default 10. Ignored aggregate_to_pus = TRUE (uses PU resolution instead). datatype Character. Output datatype (GDAL style), e.g., \"INT1U\" \"FLT4S\". Default \"INT1U\". googledrive_folder Character NULL. Google Drive folder name exports. Currently defaults NULL (Drive root) avoid GEE folder duplication bug. wait_time Numeric. Maximum time minutes wait GEE export appear Google Drive. Default 5. Increase large exports. band Character NULL. Specific band select image. NULL, uses bands. Useful datasets like Dynamic World (\"label\") ESA WorldCover (\"Map\"). composite_method Character. Method creating temporal composite: \"mosaic\" (default), \"mode\" (frequent value), \"median\", \"mean\". Use \"mode\" categorical data like Dynamic World. year_override Numeric NULL. provided, use year instead automatically detecting recent year data. pus SpatRaster NULL. Planning units raster GEE-side aggregation. provided aggregate_to_pus = TRUE, export resampled match PU resolution projection GEE download. aggregate_to_pus Logical. TRUE pus provided, aggregate data planning unit resolution GEE export. significantly speeds processing eliminating local resampling. Default FALSE. aggregation_reducer Character. Reducer use GEE-side aggregation: \"mode\" (default, categorical data), \"mean\", \"sum\".","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_gee_layer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and Process a GEE Raster Layer into a Cloud-Optimized GeoTIFF — download_gee_layer","text":"SpatRaster object written disk, NULL export timed . aggregate_to_pus = TRUE, result attribute pre_aggregated = TRUE.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_gee_layer.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download and Process a GEE Raster Layer into a Cloud-Optimized GeoTIFF — download_gee_layer","text":"use cases, prefer higher-level wrapper functions like download_esri_lulc_data() download_global_pasture_data() sensible defaults common datasets.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/download_gee_layer.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download and Process a GEE Raster Layer into a Cloud-Optimized GeoTIFF — download_gee_layer","text":"","code":"if (FALSE) { # \\dontrun{ # Download ESRI LULC data for Ghana lulc <- download_gee_layer(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-gee-project\",   asset_id = \"projects/sat-io/open-datasets/landcover/ESRI_Global-LULC_10m_TS\",   file_prefix = \"esri_10m_lulc\",   scale = 10,   datatype = \"INT1U\" )  # Download with GEE-side aggregation to planning units lulc_agg <- download_gee_layer(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-gee-project\",   asset_id = \"projects/sat-io/open-datasets/landcover/ESRI_Global-LULC_10m_TS\",   file_prefix = \"esri_10m_lulc_agg\",   pus = planning_units,   aggregate_to_pus = TRUE,   aggregation_reducer = \"mode\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/download_global_pasture_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Global Pasture Watch Grassland Probability Layer — download_global_pasture_data","title":"Download Global Pasture Watch Grassland Probability Layer — download_global_pasture_data","text":"Downloads either cultivated natural/semi-natural grassland probability layer Global Pasture Watch dataset hosted Earth Engine. Returns result local Cloud-Optimized GeoTIFF appropriate layer naming.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_global_pasture_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Global Pasture Watch Grassland Probability Layer — download_global_pasture_data","text":"","code":"download_global_pasture_data(   boundary_layer,   iso3,   gee_project,   output_dir = here::here(),   layer_type = c(\"cultivated\", \"natural\"),   ... )"},{"path":"https://elsa-undp.github.io/elsar/reference/download_global_pasture_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Global Pasture Watch Grassland Probability Layer — download_global_pasture_data","text":"boundary_layer sf object defining spatial boundary interest. iso3 Character. Three-letter ISO country code filename generation. gee_project Character. Google Earth Engine cloud project ID. required must valid GEE project access . Find project ID GEE Code Editor. output_dir Character. Local output directory. Defaults project root via ::() layer_type Character. One \"cultivated\" (default) \"natural\" specify grassland probability layer download ... Additional arguments passed download_gee_layer().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_global_pasture_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Global Pasture Watch Grassland Probability Layer — download_global_pasture_data","text":"SpatRaster object downloaded grassland data, NULL download failed","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_global_pasture_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Global Pasture Watch Grassland Probability Layer — download_global_pasture_data","text":"","code":"if (FALSE) { # \\dontrun{ # Download cultivated grassland data for Nepal pasture <- download_global_pasture_data(   boundary_layer = nepal_boundary,   iso3 = \"NPL\",   layer_type = \"cultivated\",   gee_project = \"my-gee-project\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_class_proportion.html","id":null,"dir":"Reference","previous_headings":"","what":"Download LULC Class Proportion Raster from GEE — download_lulc_class_proportion","title":"Download LULC Class Proportion Raster from GEE — download_lulc_class_proportion","text":"Downloads pre-computed class proportion raster Google Earth Engine. function computes proportion specific LULC class (e.g., agriculture, built area) within planning unit cell directly GEE, avoiding need expensive local resampling.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_class_proportion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download LULC Class Proportion Raster from GEE — download_lulc_class_proportion","text":"","code":"download_lulc_class_proportion(   boundary_layer,   iso3,   gee_project,   output_dir = here::here(),   lulc_product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\"),   class_name,   class_values = NULL,   year = NULL,   pus,   wait_time = 5,   ... )"},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_class_proportion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download LULC Class Proportion Raster from GEE — download_lulc_class_proportion","text":"boundary_layer sf object defining spatial boundary interest. iso3 Character. Three-letter ISO country code filename generation. gee_project Character. Google Earth Engine cloud project ID. required must valid GEE project access . Find project ID GEE Code Editor. output_dir Character. Path directory saving final raster file. Defaults project root via ::(). lulc_product Character. LULC product use: \"esri_10m\" (default), \"dynamic_world\", \"esa_worldcover\". class_name Character. Name class extract proportion . Common values: \"agriculture\", \"built_area\", \"trees\", \"forest_managed\". class_values Integer vector NULL. Explicit class values use. NULL, automatically determined lulc_product class_name. year Numeric NULL. Year LULC data. NULL, uses recent. pus SpatRaster. Planning units raster (required aggregation). wait_time Numeric. Maximum time minutes wait GEE export appear Google Drive. Default 5. Increase large exports. ... Additional arguments passed download_gee_layer().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_class_proportion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download LULC Class Proportion Raster from GEE — download_lulc_class_proportion","text":"SpatRaster class proportion values (0-1) PU resolution, attribute pre_aggregated = TRUE.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_class_proportion.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download LULC Class Proportion Raster from GEE — download_lulc_class_proportion","text":"function: Loads LULC ImageCollection GEE Creates binary mask target class = 1, classes = 0 Aggregates using mean reducer get proportion per PU cell Exports PU resolution using CRS transform resulting raster can used directly consumer functions via agricultural_areas_input, built_areas_input, etc. parameters without additional local processing.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_class_proportion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download LULC Class Proportion Raster from GEE — download_lulc_class_proportion","text":"","code":"if (FALSE) { # \\dontrun{ # Download agriculture proportion at PU resolution ag_prop <- download_lulc_class_proportion(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-project\",   lulc_product = \"esri_10m\",   class_name = \"agriculture\",   pus = planning_units )  # Use directly in make_protect_zone protect <- make_protect_zone(   agricultural_areas_input = ag_prop,   ... )  # Download built area proportion with explicit class values built_prop <- download_lulc_class_proportion(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-project\",   lulc_product = \"esri_10m\",   class_name = \"built_area\",   class_values = 7,  # ESRI built area class   pus = planning_units ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download LULC Data from Multiple Sources — download_lulc_data","title":"Download LULC Data from Multiple Sources — download_lulc_data","text":"Unified interface downloading Land Use/Land Cover (LULC) data various sources including ESRI Global LULC, Google Dynamic World, ESA WorldCover, loading local files.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download LULC Data from Multiple Sources — download_lulc_data","text":"","code":"download_lulc_data(   boundary_layer,   iso3,   product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\", \"local\"),   gee_project = NULL,   output_dir = here::here(),   local_file = NULL,   year = NULL,   pus = NULL,   aggregate_to_pus = FALSE,   wait_time = 5,   ... )"},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download LULC Data from Multiple Sources — download_lulc_data","text":"boundary_layer sf object defining spatial boundary interest. iso3 Character. Three-letter ISO country code. product Character. LULC product download: \"esri_10m\" (default), \"dynamic_world\", \"esa_worldcover\", \"local\". gee_project Character NULL. Google Earth Engine cloud project ID. Required GEE-sourced products (esri_10m, dynamic_world, esa_worldcover). output_dir Character. Directory saving output. Defaults ::(). local_file Character NULL. Path local GeoTIFF/COG file. Required product = \"local\". year Numeric NULL. Specific year download. NULL, uses recent. Dynamic World, creates annual mode composite. Ignored ESA WorldCover (fixed 2021). pus SpatRaster NULL. Planning units raster GEE-side aggregation. aggregate_to_pus Logical. TRUE pus provided, aggregate data planning unit resolution GEE export. Default FALSE. wait_time Numeric. Maximum wait time GEE exports minutes. Default 5. ... Additional arguments passed underlying download functions.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download LULC Data from Multiple Sources — download_lulc_data","text":"SpatRaster object LULC data attribute lulc_product indicating source, NULL download failed.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download LULC Data from Multiple Sources — download_lulc_data","text":"","code":"if (FALSE) { # \\dontrun{ # Download ESRI LULC (default) lulc <- download_lulc_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-project\" )  # Download Dynamic World annual composite lulc_dw <- download_lulc_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   product = \"dynamic_world\",   gee_project = \"my-project\",   year = 2023 )  # Download ESA WorldCover lulc_esa <- download_lulc_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   product = \"esa_worldcover\",   gee_project = \"my-project\" )  # Use local file lulc_local <- download_lulc_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   product = \"local\",   local_file = \"path/to/custom_lulc.tif\" )  # Download with GEE-side aggregation to planning units lulc_agg <- download_lulc_data(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   product = \"esri_10m\",   gee_project = \"my-project\",   pus = planning_units,   aggregate_to_pus = TRUE ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_proportions.html","id":null,"dir":"Reference","previous_headings":"","what":"Download LULC Class Proportions from GEE — download_lulc_proportions","title":"Download LULC Class Proportions from GEE — download_lulc_proportions","text":"Downloads individual proportion rasters Google Earth Engine raster represents proportion (0-1) specific LULC class within planning unit cell. efficient downloading categorical LULC computing proportions locally, aggregation happens GEE.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_proportions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download LULC Class Proportions from GEE — download_lulc_proportions","text":"","code":"download_lulc_proportions(   boundary_layer,   iso3,   gee_project,   output_dir = here::here(),   lulc_product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\"),   class_names = c(\"agriculture\", \"built_area\"),   year = NULL,   pus,   wait_time = 30,   force_download = FALSE )"},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_proportions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download LULC Class Proportions from GEE — download_lulc_proportions","text":"boundary_layer sf object defining spatial boundary interest. iso3 Character. Three-letter ISO country code filename generation. gee_project Character. Google Earth Engine cloud project ID. required must valid GEE project access . Find project ID GEE Code Editor. output_dir Character. Path directory saving final raster file. Defaults project root via ::(). lulc_product Character. LULC product use: \"esri_10m\" (default), \"dynamic_world\", \"esa_worldcover\". class_names Character vector. Names classes extract proportions . Default c(\"agriculture\", \"built_area\"). Must valid class names chosen lulc_product (see get_lulc_classes()). year Numeric NULL. Year LULC data. NULL, uses recent. pus SpatRaster. Planning units raster (required resolution). wait_time Numeric. Maximum time minutes wait GEE export appear Google Drive. Default 5. Increase large exports. force_download Logical. TRUE, skip local Drive cache checks force new export GEE. Default FALSE.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_proportions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download LULC Class Proportions from GEE — download_lulc_proportions","text":"named list SpatRaster objects, one per class. raster contains proportion values (0-1) PU resolution. Files also saved output_dir names like {product}_proportion_{year}_{iso3}_{class}.tif.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_proportions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download LULC Class Proportions from GEE — download_lulc_proportions","text":"function: Loads LULC ImageCollection GEE class, creates binary mask (class = 1, = 0) Exports class proportion separate GeoTIFF Reprojects locally PU CRS using bilinear interpolation resulting rasters can used directly consumer functions: Use props$agriculture agricultural_areas_input Use props$built_area built_areas_input Values already 0-1 proportions, ready threshold comparison","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/download_lulc_proportions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download LULC Class Proportions from GEE — download_lulc_proportions","text":"","code":"if (FALSE) { # \\dontrun{ # Download agriculture and built_area proportions props <- download_lulc_proportions(   boundary_layer = ghana_boundary,   iso3 = \"GHA\",   gee_project = \"my-project\",   lulc_product = \"esri_10m\",   class_names = c(\"agriculture\", \"built_area\"),   pus = planning_units )  # Use directly in make_protect_zone protect <- make_protect_zone(   iso3 = \"GHA\",   pus = planning_units,   agricultural_areas_input = props$agriculture,   built_areas_input = props$built_area,   ... ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsa_plot_output_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Map of the ELSA output to download with GIS layers — elsa_plot_output_map","title":"Create a Map of the ELSA output to download with GIS layers — elsa_plot_output_map","text":"function gives quick way getting map immediately downloading output GIS layers.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsa_plot_output_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Map of the ELSA output to download with GIS layers — elsa_plot_output_map","text":"","code":"elsa_plot_output_map(elsa_raster, ELSA_text, pu0)"},{"path":"https://elsa-undp.github.io/elsar/reference/elsa_plot_output_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Map of the ELSA output to download with GIS layers — elsa_plot_output_map","text":"elsa_raster SpatRasterwith one layer contains different categories different zones. ELSA_text tbl_df containing translations displayed text plot. pu0 SpatRaster possible planning units planning region (one layer)","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsa_plot_output_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Map of the ELSA output to download with GIS layers — elsa_plot_output_map","text":"ggplot object map prioritization output","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsa_plot_representation.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Bar Plot of Feature Representation — elsa_plot_representation","title":"Create a Bar Plot of Feature Representation — elsa_plot_representation","text":"function generates stacked bar plot displaying representation input feature, broken specified actions (e.g., \"Protect,\" \"Restore,\" \"Manage,\" optionally \"Urban Greening\").","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsa_plot_representation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Bar Plot of Feature Representation — elsa_plot_representation","text":"","code":"elsa_plot_representation(   feature_rep_tabl,   input,   ELSA_text,   pal.elsa = tibble::tibble(colour = c(\"#4daf4a\", \"#984ea3\", \"#377eb8\", \"#adaf4a\",     \"#FFFFFF00\"), category = c(\"Protect\", \"Restore\", \"Manage\", \"PR\", \"Do_Nothing\")) )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsa_plot_representation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Bar Plot of Feature Representation — elsa_plot_representation","text":"feature_rep_tabl dataframe containing representation values feature. Columns include numeric data feature action. input input object R Shiny app containing budget information action. used label budget percentage action plot legend. ELSA_text tbl_df containing translations displayed text plot. pal.elsa tibble palette information plot","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsa_plot_representation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Bar Plot of Feature Representation — elsa_plot_representation","text":"ggplot object stacked bar chart showing feature representation percentages.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar-package.html","id":null,"dir":"Reference","previous_headings":"","what":"elsar: Functions and Tools For Creating ELSA Data Stacks — elsar-package","title":"elsar: Functions and Tools For Creating ELSA Data Stacks — elsar-package","text":"Provides tools data pipelines support Essential Life Support Areas (ELSA) conservation planning. Includes functions load harmonize global spatial datasets, prepare raster layers spatial prioritization, create zone layers (protect, restore, manage), calculate coverage metrics planning units.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/elsar-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"elsar: Functions and Tools For Creating ELSA Data Stacks — elsar-package","text":"Maintainer: Scott Atkinson scott.atkinson@undp.org (ORCID) Authors: Sandra Neubert s.neubert@uq.edu.au (ORCID)","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_continuous_to_categorical.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to create categories for plotting out of continuous data — elsar_continuous_to_categorical","title":"Function to create categories for plotting out of continuous data — elsar_continuous_to_categorical","text":"Function create categories plotting continuous data","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_continuous_to_categorical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to create categories for plotting out of continuous data — elsar_continuous_to_categorical","text":"","code":"elsar_continuous_to_categorical(   raster_in,   data_layer,   number_categories,   manual_breaks = NULL,   hist_breaks_out = TRUE )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_continuous_to_categorical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to create categories for plotting out of continuous data — elsar_continuous_to_categorical","text":"raster_in SpatRaster file plotted. data_layer data layer continuous data converted categories. number_categories Number categories create continuous data manual_breaks vector breaks used categories. hist_breaks_out logical. TRUE (default), returns breaks used categorise data.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_continuous_to_categorical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to create categories for plotting out of continuous data — elsar_continuous_to_categorical","text":"list df categories interval labels, well interval breaks background data.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_continuous_to_categorical.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to create categories for plotting out of continuous data — elsar_continuous_to_categorical","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\"   )  pus <- make_planning_units(   boundary_proj = boundary_proj,   iso3 = \"NPL\",   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE   ) wad_dat <- get_wad_data()  wadOut <- make_normalised_raster(   raster_in = wad_dat,   pus = pus,   iso3 = \"NPL\"   )  wad_cat <- elsar_continuous_to_categorical(  wadOut,  data_layer = \"wad_final_cog\",  number_categories = 10 ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_download_esri_lulc_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download and Process ESRI 10m LULC Data from Google Earth Engine — elsar_download_esri_lulc_data","title":"Download and Process ESRI 10m LULC Data from Google Earth Engine — elsar_download_esri_lulc_data","text":"function downloads ESRI 10m Land Use Land Cover (LULC) data Google Earth Engine (GEE) specified national boundary. exports image Google Drive, downloads resulting tiles, merges single raster, converts Cloud-Optimized GeoTIFF (COG). Temporary files environments cleaned processing.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_download_esri_lulc_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download and Process ESRI 10m LULC Data from Google Earth Engine — elsar_download_esri_lulc_data","text":"","code":"elsar_download_esri_lulc_data(   boundary_layer,   iso3,   output_dir = here::here(),   lulc_data_source = \"projects/sat-io/open-datasets/landcover/ESRI_Global-LULC_10m_TS\",   gee_project = \"unbl-misc\",   googledrive_folder = \"gee_exports\" )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_download_esri_lulc_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download and Process ESRI 10m LULC Data from Google Earth Engine — elsar_download_esri_lulc_data","text":"boundary_layer sf object representing national boundary. iso3 character string representing ISO3 country code (e.g., \"USA\"). output_dir character string specifying output directory final COG file. Defaults project root directory using ::(). lulc_data_source character string specifying Earth Engine dataset ID LULC data. Defaults ESRI 10m LULC dataset. gee_project string specifying GEE cloud project; default unbl-misc. must member project. googledrive_folder string specifying folder Google Drive GEE exports go , files searched . Default gee_exports. folder created exist.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_download_esri_lulc_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download and Process ESRI 10m LULC Data from Google Earth Engine — elsar_download_esri_lulc_data","text":"Cloud-Optimized GeoTIFF file stored specified output directory.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_download_esri_lulc_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download and Process ESRI 10m LULC Data from Google Earth Engine — elsar_download_esri_lulc_data","text":"","code":"if (FALSE) { # \\dontrun{ my_boundary <- sf::st_read(\"my_boundary.gpkg\")  lulc <- elsar_download_esri_lulc_data(boundary = my_boundary, iso3 = 'NPL') } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_extend.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to extend the spatial extend around a raster file for plotting — elsar_extend","title":"Function to extend the spatial extend around a raster file for plotting — elsar_extend","text":"plotting (e.g. elsar_plot_static_raster_c(), extent main data used. elsar_extend() allows extract background data plotted extent bit greater extent main data.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_extend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to extend the spatial extend around a raster file for plotting — elsar_extend","text":"","code":"elsar_extend(raster_main = NULL, raster_to_crop = NULL, extend_by = 0.05)"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_extend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to extend the spatial extend around a raster file for plotting — elsar_extend","text":"raster_main SpatRaster file main data original plot. extent file used baseline new plot extent. raster_to_crop SpatRaster file data cropped using new extent. extend_by numerical value allows extend background beyond extent raster_in. extend_background <= 1, lat lon extend extended ratio provided (e.g. 0.05 extend 5%). extend_background > 1 sides extended absolute value provided.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_extend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to extend the spatial extend around a raster file for plotting — elsar_extend","text":"SpatRaster file new dimensions.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_extend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to extend the spatial extend around a raster file for plotting — elsar_extend","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\" )  pus <- make_planning_units(   boundary_proj = boundary_proj,   iso3 = \"NPL\",   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE ) wad_dat <- get_wad_data()  wadOut <- make_normalised_raster(   raster_in = wad_dat,   pus = pus,   iso3 = \"NPL\" ) wad_dat <- terra::project(wad_dat, terra::crs(wadOut))  bckgrnd_dat <- elsar_extend(   raster_main = wadOut,   raster_to_crop = wad_dat,   extend_by = 0.05 ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_load_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Load spatial or raster data from local files or Postgres — elsar_load_data","title":"Load spatial or raster data from local files or Postgres — elsar_load_data","text":"Automatically detects file type loads spatial (sf) raster (SpatRaster) data. Supports local files (e.g., shapefiles, GeoPackages, TIFFs) PostGIS tables.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_load_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load spatial or raster data from local files or Postgres — elsar_load_data","text":"","code":"elsar_load_data(   file_name = NULL,   file_path = NULL,   file_lyr = NULL,   wkt_filter = NULL,   db_info = NULL,   pg_connection = NULL,   drop3d = TRUE,   iso3_column = NULL,   iso3 = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_load_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load spatial or raster data from local files or Postgres — elsar_load_data","text":"file_name Character NULL. File name extension. Use NULL load files type folder. Set \"postgres\" load PostGIS database. file_path Character. Folder file path. required loading PostgreSQL. file_lyr Character. Optional. Layer name multi-layer files (e.g., GeoPackage GDB). loading PostgreSQL, specifies table name. wkt_filter sf, SpatRaster, SpatVector, WKT geometry can derived spatially filter vector data reading . db_info Named list PostgreSQL connection parameters. Required elements: host Database host (e.g., \"localhost\" IP address) dbname Name PostgreSQL database port Port number (typically 5432) user Database username password Database password pg_connection Named list. Alternative parameter name db_info (structure). drop3d Logical. Drop Z/M dimensions TRUE. Default TRUE. iso3_column Character. Column name filter ISO3 code. iso3 Character. ISO3 code filter vector data.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_load_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load spatial or raster data from local files or Postgres — elsar_load_data","text":"sf object SpatRaster depending file type.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_load_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load spatial or raster data from local files or Postgres — elsar_load_data","text":"","code":"if (FALSE) { # \\dontrun{ # Load a single raster r <- elsar_load_data(   file_name = \"lulc.tif\",   file_path = \"data\"   )  # Load shapefile with ISO3 filter shp <- elsar_load_data(   file_name = \"admin.shp\",   file_path = \"data\",   iso3 = \"KEN\",   iso3_column = \"ISO3\"   )  # Load all shapefiles in a folder shp_all <- elsar_load_data(   file_name = NULL,   file_path = \"data/shapes\"   )  # Load PostGIS table pg <- elsar_load_data(   file_name = \"postgres\",   file_lyr = \"admin\",   iso3 = \"KEN\",   iso3_column = \"iso3\",   pg_connection = list(       host = \"localhost\",       dbname = \"gis\",       port = 5432,       user = \"me\",       password = \"pass\"       )    ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_background.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to create a plot with background data for another plot — elsar_plot_background","title":"Function to create a plot with background data for another plot — elsar_plot_background","text":"Creates background layer plotting, supporting continuous discrete data.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_background.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to create a plot with background data for another plot — elsar_plot_background","text":"","code":"elsar_plot_background(   plot_type = \"ggplot\",   background_dat = NULL,   data_type = c(\"continuous\", \"discrete\"),   rescale_background = TRUE,   increase_extend = 0.05,   main_data = NULL,   background_alpha = 0.2,   color_map = \"viridis\",   custom_palette = NULL,   categorical = FALSE,   number_categories = 10,   data_layer = NULL )  elsar_plot_background_c(   plot_type = \"ggplot\",   background_dat = NULL,   rescale_background = TRUE,   increase_extend = 0.05,   main_data = NULL,   background_alpha = 0.2,   color_map = \"viridis\",   custom_palette = NULL )  elsar_plot_background_d(   plot_type = \"ggplot\",   background_dat = NULL,   rescale_background = TRUE,   increase_extend = 0.05,   main_data = NULL,   background_alpha = 0.2,   color_map = \"viridis\",   custom_palette = NULL,   categorical = FALSE,   number_categories = 10,   data_layer = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_background.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to create a plot with background data for another plot — elsar_plot_background","text":"plot_type character denoting whether \"ggplot\" \"tmap\" used. Needs match main plot. background_dat SpatRaster file contains data used background. data_type Character. Either \"continuous\" (default) \"discrete\" specify data displayed. rescale_background Logical. TRUE, rescales SpatRaster values 0-1. increase_extend numerical value allows extend background beyond extent raster_in. extend_background <= 1, lat lon extend extended ratio provided (e.g. 0.05 extend 5%). extend_background > 1 sides extended absolute value provided. main_data SpatRaster file contains data main part main plot. background_alpha value (0-1) opacity background layer. Default 0.2. color_map name viridis palette used. Default \"viridis\". custom_palette optional custom palette plotting. Default uses viridis package. categorical Logical. used data_type = \"discrete\". TRUE, data already categorical. number_categories Integer. used data_type = \"discrete\". Number categories split continuous data . data_layer Character. used data_type = \"discrete\". data layer name categorization.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_background.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to create a plot with background data for another plot — elsar_plot_background","text":"list ggplot tmap object data frame background data.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_background.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to create a plot with background data for another plot — elsar_plot_background","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\" )  pus <- make_planning_units(   boundary_proj = boundary_proj,   iso3 = \"NPL\",   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE ) wad_dat <- get_wad_data()  wadOut <- make_normalised_raster(   raster_in = wad_dat,   pus = pus,   iso3 = \"NPL\" )  # Continuous background (background_plot <- elsar_plot_background(   background_dat = wad_dat,   main_data = wadOut ))  # Discrete background (background_plot_d <- elsar_plot_background(   background_dat = wad_dat,   main_data = wadOut,   data_type = \"discrete\",   number_categories = 10,   data_layer = \"wad_final_cog\" )) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_distribution.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to create basic histogram with categorical data — elsar_plot_distribution","title":"Function to create basic histogram with categorical data — elsar_plot_distribution","text":"Function create basic histogram categorical data","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_distribution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to create basic histogram with categorical data — elsar_plot_distribution","text":"","code":"elsar_plot_distribution(   type = \"ggplot\",   categorical = TRUE,   raster_df = NULL,   col_interest = NULL,   bin_number = 10,   custom_palette = NULL,   show_legend = FALSE,   color_map = \"viridis\" )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_distribution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to create basic histogram with categorical data — elsar_plot_distribution","text":"type character denoting whether \"ggplot\" \"tmap\" used. categorical logical. Whether data categorical (TRUE) continuous (FALSE). raster_df df object data include histogram. col_interest character column interest. Uses \"interval\" nothing provided. bin_number integer value many bins split data (default = 10). custom_palette optional custom palette plotting. Default uses viridis package. show_legend logical. Whether include legend plot . Default FALSE. color_map name viridis palette used. Default \"viridis\".","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_distribution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to create basic histogram with categorical data — elsar_plot_distribution","text":"list ggplot tmap object SpatRaster new background data.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_distribution.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to create basic histogram with categorical data — elsar_plot_distribution","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\",   custom_projection = TRUE )  pus <- make_planning_units(boundary_proj = boundary_proj,                            iso3 = \"NPL\",                            pu_size = NULL,                            pu_threshold = 8.5e5,                            limit_to_mainland = FALSE) wad_dat <- get_wad_data()  wadOut <- make_normalised_raster(raster_in = wad_dat,                                  pus = pus,                                  iso3 = \"NPL\")  plot_cat <- elsar_plot_static_raster_d( raster_in = wadOut, type = \"ggplot_raster\", categorical = FALSE, background = wad_dat, number_categories = 10, data_layer = \"wad_final_cog\", raster_df_out = TRUE, legend_title = \"WAD\" )  plot_wad_cat <- plot_cat[[1]] raster_df_cat <- plot_cat[[2]]   plot_dist_cat <- elsar_plot_distribution(   raster_df = raster_df_cat,   categorical = TRUE )  (plot_wad_cat_inset <- patchwork::wrap_plots((plot_wad_cat +   elsar_plot_optics()) +   patchwork::inset_element(     (plot_dist_cat +       elsar_plot_optics(include_text = FALSE) +       ggplot2::theme(         axis.title = ggplot2::element_blank(),         axis.text.x = ggplot2::element_blank(),         axis.ticks.x = ggplot2::element_blank()       )     ),     left = 0.1, # needs to be changed depending on plot dimensions     bottom = 0.08, # needs to be changed depending on plot dimensions     right = 0.35, # needs to be changed depending on plot dimensions     top = 0.4, # needs to be changed depending on plot dimensions     align_to = \"plot\"   ))) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_extra_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to add additional data to an existing plot — elsar_plot_extra_data","title":"Function to add additional data to an existing plot — elsar_plot_extra_data","text":"elsar_plot_extra_data() allows add extra data existing ggplot tmap plot, e.g. protected areas generated make_protected_areas(). Function idea taken spatialplanr package.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_extra_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to add additional data to an existing plot — elsar_plot_extra_data","text":"","code":"elsar_plot_extra_data(   plot_type = \"ggplot\",   include_pas = NULL,   pas_look = \"contours\",   alpha_pa = 0.5,   color_pa = \"black\",   legend_pa = \"\",   label_pa = \"PAs\" )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_extra_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to add additional data to an existing plot — elsar_plot_extra_data","text":"plot_type character denoting whether \"ggplot\" \"tmap\" used. Needs match main plot include_pas sf object PAs area, e.g. created make_protected_areas() function setting  return_sf = TRUE. pas_look character denoting whether show \"contours\" \"area\" PAs. alpha_pa value (0-1) opacity locked areas plotted top plots. color_pa color value locked areas. legend_pa character value title legend locked areas. Can empty (\"\"). label_pa legend label locked area (e.g. MPAs)","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_extra_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to add additional data to an existing plot — elsar_plot_extra_data","text":"ggplot returns list can simply added ggplot, e.g. elsar_plot_static_raster_c().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_extra_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to add additional data to an existing plot — elsar_plot_extra_data","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\" )  pus <- make_planning_units(   boundary_proj = boundary_proj,   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE ) wad_dat <- get_wad_data()  wadOut <- make_normalised_raster(   raster_in = wad_dat,   pus = pus,   iso3 = \"NPL\" )  current_pas <- make_protected_areas(   iso3 = \"NPL\",   download_path = here::here(),   buffer_points = TRUE,   return_sf = TRUE,   pus = pus )  wad_plot <- testPlot <- elsar_plot_static_raster_c(   raster_in = wadOut,   type = \"ggplot_raster\",   background = wad_dat,   legend_title = \"wad\" ) +   elsar_plot_extra_data(include_pas = current_pas, color_pa = \"red\") +   elsar_plot_optics()  wad_plot <- testPlot <- elsar_plot_static_raster_c(   raster_in = wadOut,   type = \"ggplot_raster\",   background = wad_dat,   legend_title = \"wad\" ) +   elsar_plot_extra_data(include_pas = current_pas, pas_look = \"area\", color_pa = \"grey\") +   elsar_plot_optics() } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_feature.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a single feature raster within planning unit outlines — elsar_plot_feature","title":"Plot a single feature raster within planning unit outlines — elsar_plot_feature","text":"Creates ggplot2 map single feature represented SpatRaster, optional planning unit outlines, customizable color palette direction, optional saving disk.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_feature.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a single feature raster within planning unit outlines — elsar_plot_feature","text":"","code":"elsar_plot_feature(   raster_in,   pus,   legend_title = NULL,   color_map = \"viridis\",   invert_palette = FALSE,   figure_path = NULL,   iso3 = NULL,   no_legend = FALSE,   custom_resolution = 200 )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_feature.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a single feature raster within planning unit outlines — elsar_plot_feature","text":"raster_in SpatRaster. raster plotted. pus SpatVector. Planning units used outline raster. legend_title character, optional. Title legend. Defaults NULL. color_map character. Name viridis palette use. Defaults \"viridis\". invert_palette logical. TRUE, reverses palette direction. Defaults FALSE. figure_path character, optional. provided, path save figure PNG. iso3 iso3 code country interest. no_legend logical. TRUE, suppresses legend. Defaults FALSE. custom_resolution value used ggsave() dpi. Default 200.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_feature.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a single feature raster within planning unit outlines — elsar_plot_feature","text":"ggplot object displaying raster optional planning unit outlines.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_feature.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a single feature raster within planning unit outlines — elsar_plot_feature","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\" )  pus <- make_planning_units(   boundary_proj = boundary_proj,   iso3 = \"NPL\",   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE )  wad_dat <- get_wad_data()  wadOut <- make_normalised_raster(   raster_in = wad_dat,   pus = pus,   iso3 = \"NPL\" )  elsar_plot_feature(   raster_in = wadOut,   pus = pus,   legend_title = \"WAD\",   color_map = \"magma\",   invert_palette = TRUE,   figure_path = here::here(),   no_legend = FALSE,   iso3 = \"test\",   custom_resolution = 400 ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_optics.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to easily adapt the visual appearance of a plot — elsar_plot_optics","title":"Function to easily adapt the visual appearance of a plot — elsar_plot_optics","text":"elsar_plot_optics() allows use specific themes plotting add north arrows scales wanted.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_optics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to easily adapt the visual appearance of a plot — elsar_plot_optics","text":"","code":"elsar_plot_optics(   type = \"ggplot\",   theme = \"default\",   include_north_scale = FALSE,   include_logo = FALSE,   logo_path = \"man/figures/elsaR_hex_sticker.png\",   logo_dim = c(60, 60),   logo_pos,   include_text = TRUE,   text_to_display = \"UNBL | www.unbiodiversitylab.org\",   text_location = \"bottom_right\",   move_horizontal = NULL,   move_vertical = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_optics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to easily adapt the visual appearance of a plot — elsar_plot_optics","text":"type character denoting whether \"ggplot\" \"tmap\" used. Needs match main plot theme ggplot allows use pre-defined \"deafult\" plot theme provide custom one list. include_north_scale Logical. Determines whether north arrow scale added. include_logo Logical. Whether include logo (.png image) plot logo_path path png file logo saved (e.g. \"man/figures/elsaR_hex_sticker.png\") logo_dim vector desired width height image. Default c(60, 60). logo_pos vector desired position image (xmin, xmax, ymin, ymax). include_text Logical. Whether include text plot (e.g. website). text_to_display text display. Dafult \"UNBL | www.unbiodiversitylab.org\", text_location location text. Options \"bottom_right\" (default), \"top_right\", \"top_left\" \"bottom_left\". move_horizontal setting text location, attribute allows move text block horizontally needed. move_vertical setting text location, attribute allows move text block vertically needed.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_optics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to easily adapt the visual appearance of a plot — elsar_plot_optics","text":"ggplot returns list can simply added ggplot, e.g. elsar_plot_static_raster_c().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_optics.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to easily adapt the visual appearance of a plot — elsar_plot_optics","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\" )  pus <- make_planning_units(   boundary_proj = boundary_proj,   iso3 = \"NPL\",   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE ) wad_dat <- get_wad_data()  wadOut <- make_normalised_raster(   raster_in = wad_dat,   pus = pus,   iso3 = \"NPL\" ) wad_plot <- testPlot <- elsar_plot_static_raster_c(   raster_in = wadOut,   type = \"ggplot_raster\",   background = wad_dat,   legend_title = \"wad\" ) + elsar_plot_optics() } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to create a static plot from raster data — elsar_plot_static_raster","title":"Function to create a static plot from raster data — elsar_plot_static_raster","text":"elsar_plot_static_raster() allows plotting continuous discrete data SpatRaster ggplot tmap. can combined elsar_plot_optics() elsar_plot_extra_data() create reproducible plots.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to create a static plot from raster data — elsar_plot_static_raster","text":"","code":"elsar_plot_static_raster(   raster_in,   data_type = c(\"continuous\", \"discrete\"),   type = \"ggplot_vector\",   categorical = FALSE,   number_categories = 10,   data_layer = NULL,   background = NULL,   extend_background = 0.05,   custom_palette = NULL,   plot_title = \"\",   legend_title = NULL,   color_map = \"viridis\",   expand_plot = FALSE,   raster_df_out = FALSE )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to create a static plot from raster data — elsar_plot_static_raster","text":"raster_in SpatRaster file plotted. data_type Character. Either \"continuous\" (default) \"discrete\" specify data displayed. type character plot type. Either \"ggplot_vector\", \"ggplot_raster\" \"tmap\". categorical Logical. used data_type = \"discrete\". TRUE, data already categorical. number_categories Integer. used data_type = \"discrete\". Number categories split continuous data . Default 10. data_layer Character. used data_type = \"discrete\". data layer name categorization. background Requires SpatRaster input (preferably data raster_in) plot background data. extend_background numerical value allows extent background beyond extent raster_in. extend_background <= 1, lat lon extend extended ratio provided (e.g. 0.05 extend 5%). extend_background > 1 sides extended absolute value provided. custom_palette optional custom palette plotting. Default uses viridis package. plot_title optional plot title. legend_title optional legend title. color_map name viridis palette used. Default \"viridis\". expand_plot Logical. Whether expand plot, space border plot. raster_df_out Logical. Whether return plot (FALSE) also data frame behind plot (TRUE). Needed elsar_plot_distribution().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to create a static plot from raster data — elsar_plot_static_raster","text":"ggplot tmap object, list plot data frame raster_df_out = TRUE.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to create a static plot from raster data — elsar_plot_static_raster","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\" )  pus <- make_planning_units(   boundary_proj = boundary_proj,   iso3 = \"NPL\",   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE ) wad_dat <- get_wad_data()  wadOut <- make_normalised_raster(   raster_in = wad_dat,   pus = pus,   iso3 = \"NPL\" )  # Continuous data plot (wad_plot <- elsar_plot_static_raster(   raster_in = wadOut,   type = \"ggplot_raster\",   background = wad_dat,   legend_title = \"wad\" ))  # Discrete data plot (wad_plot_d <- elsar_plot_static_raster(   raster_in = wadOut,   data_type = \"discrete\",   type = \"ggplot_raster\",   number_categories = 10,   background = wad_dat,   data_layer = \"wad_final_cog\" )) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster_c.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to create a static plot from raster data with continuous data — elsar_plot_static_raster_c","title":"Function to create a static plot from raster data with continuous data — elsar_plot_static_raster_c","text":"elsar_plot_static_raster_c() deprecated. Please use elsar_plot_static_raster() data_type = \"continuous\" instead.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster_c.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to create a static plot from raster data with continuous data — elsar_plot_static_raster_c","text":"","code":"elsar_plot_static_raster_c(   raster_in,   type = \"ggplot_vector\",   background = NULL,   extend_background = 0.05,   custom_palette = NULL,   plot_title = \"\",   legend_title = NULL,   color_map = \"viridis\",   expand_plot = FALSE,   raster_df_out = FALSE )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster_c.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to create a static plot from raster data with continuous data — elsar_plot_static_raster_c","text":"raster_in SpatRaster file plotted. type character plot type. Either \"ggplot_vector\", \"ggplot_raster\" \"tmap\". background Requires SpatRaster input (preferably data raster_in) plot background data. extend_background numerical value allows extent background beyond extent raster_in. extend_background <= 1, lat lon extend extended ratio provided (e.g. 0.05 extend 5%). extend_background > 1 sides extended absolute value provided. custom_palette optional custom palette plotting. Default uses viridis package. plot_title optional plot title. legend_title optional legend title. color_map name viridis palette used. Default \"viridis\". expand_plot Logical. Whether expand plot, space border plot. raster_df_out Logical. Whether return plot (FALSE) also data frame behind plot (TRUE). Needed elsar_plot_distribution().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster_c.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to create a static plot from raster data with continuous data — elsar_plot_static_raster_c","text":"ggplot tmap object.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster_c.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to create a static plot from raster data with continuous data — elsar_plot_static_raster_c","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\" )  pus <- make_planning_units(   boundary_proj = boundary_proj,   iso3 = \"NPL\",   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE ) wad_dat <- get_wad_data()  wadOut <- make_normalised_raster(   raster_in = wad_dat,   pus = pus,   iso3 = \"NPL\" ) (wad_plot <- elsar_plot_static_raster_c(   raster_in = wadOut,   type = \"ggplot_raster\",   background = wad_dat,   legend_title = \"wad\" )) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster_d.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to create a static plot from raster data with discrete data — elsar_plot_static_raster_d","title":"Function to create a static plot from raster data with discrete data — elsar_plot_static_raster_d","text":"elsar_plot_static_raster_d() deprecated. Please use elsar_plot_static_raster() data_type = \"discrete\" instead.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster_d.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to create a static plot from raster data with discrete data — elsar_plot_static_raster_d","text":"","code":"elsar_plot_static_raster_d(   raster_in,   type = \"ggplot_vector\",   categorical = FALSE,   number_categories = 10,   data_layer = NULL,   background = NULL,   extend_background = 0.05,   custom_palette = NULL,   plot_title = \"\",   legend_title = NULL,   color_map = \"viridis\",   expand_plot = FALSE,   raster_df_out = FALSE )"},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster_d.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to create a static plot from raster data with discrete data — elsar_plot_static_raster_d","text":"raster_in SpatRaster file plotted. type character plot type. Either \"ggplot_vector\", \"ggplot_raster\" \"tmap\". categorical Logical. used data_type = \"discrete\". TRUE, data already categorical. number_categories Integer. used data_type = \"discrete\". Number categories split continuous data . Default 10. data_layer Character. used data_type = \"discrete\". data layer name categorization. background Requires SpatRaster input (preferably data raster_in) plot background data. extend_background numerical value allows extent background beyond extent raster_in. extend_background <= 1, lat lon extend extended ratio provided (e.g. 0.05 extend 5%). extend_background > 1 sides extended absolute value provided. custom_palette optional custom palette plotting. Default uses viridis package. plot_title optional plot title. legend_title optional legend title. color_map name viridis palette used. Default \"viridis\". expand_plot Logical. Whether expand plot, space border plot. raster_df_out Logical. Whether return plot (FALSE) also data frame behind plot (TRUE). Needed elsar_plot_distribution().","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster_d.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to create a static plot from raster data with discrete data — elsar_plot_static_raster_d","text":"Either ggplot object list ggplot df.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/elsar_plot_static_raster_d.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to create a static plot from raster data with discrete data — elsar_plot_static_raster_d","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\" )  pus <- make_planning_units(   boundary_proj = boundary_proj,   iso3 = \"NPL\",   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE ) wad_dat <- get_wad_data()  wadOut <- make_normalised_raster(   raster_in = wad_dat,   pus = pus,   iso3 = \"NPL\" )  (plot_cat <- elsar_plot_static_raster_d(raster_in = wadOut, type = \"ggplot_raster\", categorical = FALSE, number_categories = 10, background = wad_dat, data_layer = \"wad_final_cog\", raster_df_out = TRUE) ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/exact_rasterise.html","id":null,"dir":"Reference","previous_headings":"","what":"Efficient Attribute-Weighted Rasterization Using Coverage Fraction — exact_rasterise","title":"Efficient Attribute-Weighted Rasterization Using Coverage Fraction — exact_rasterise","text":"Rasterizes vector features raster grid defined planning unit (pus) layer, assigning values based given attribute actual coverage fraction feature raster cell. method optimized speed precision especially useful features overlap vary size shape.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/exact_rasterise.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Efficient Attribute-Weighted Rasterization Using Coverage Fraction — exact_rasterise","text":"","code":"exact_rasterise(   features,   attribute,   iso3,   pus,   invert = FALSE,   rescaled = TRUE,   fun = mean,   cores = 4 )"},{"path":"https://elsa-undp.github.io/elsar/reference/exact_rasterise.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Efficient Attribute-Weighted Rasterization Using Coverage Fraction — exact_rasterise","text":"features sf SpatVector object containing vector features rasterize. attribute Character. column name features use weight raster values. iso3 Character. ISO3 country code, passed make_normalised_raster(). pus SpatRaster object defining resolution, extent, CRS output raster. invert Logical. TRUE, inverts resulting values normalization (default: FALSE). rescaled Logical. TRUE, rescales output 0-1 using make_normalised_raster() (default: TRUE). fun Function. Aggregation function applied across overlapping rasterized features (default: mean). cores Integer. Number CPU cores use multi-core processing (default: 4).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/exact_rasterise.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Efficient Attribute-Weighted Rasterization Using Coverage Fraction — exact_rasterise","text":"SpatRaster object representing attribute-weighted rasterization input features.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/exact_rasterise.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Efficient Attribute-Weighted Rasterization Using Coverage Fraction — exact_rasterise","text":"multiple features provided, rasterized independently aggregated across stack using specified function (fun), typically sum, mean, max.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/exact_rasterise.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Efficient Attribute-Weighted Rasterization Using Coverage Fraction — exact_rasterise","text":"","code":"if (FALSE) { # \\dontrun{ # Rasterize polygons using a 'score' attribute result <- exact_rasterise(features = my_polygons, attribute = \"score\", pus = my_raster, fun = sum) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/extract_filename_filetype.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Filename and Filetype from Directory — extract_filename_filetype","title":"Extract Filename and Filetype from Directory — extract_filename_filetype","text":"Extracts base filename file extension given data_name specified folder.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/extract_filename_filetype.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Filename and Filetype from Directory — extract_filename_filetype","text":"","code":"extract_filename_filetype(data_name, file_path)"},{"path":"https://elsa-undp.github.io/elsar/reference/extract_filename_filetype.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Filename and Filetype from Directory — extract_filename_filetype","text":"data_name Character. Name pattern file search. file_path Character. Path folder.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/extract_filename_filetype.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Filename and Filetype from Directory — extract_filename_filetype","text":"named list elements: filename filetype.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/filter_sf.html","id":null,"dir":"Reference","previous_headings":"","what":"Load and optionally filter a single vector layer — filter_sf","title":"Load and optionally filter a single vector layer — filter_sf","text":"utility function wraps sf::st_read() load vector dataset (e.g., GPKG, GDB, SHP). supports optional filtering ISO3 country code /spatial filter WKT format. automatically selects first available layer layer_name provided file type supports layers.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/filter_sf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load and optionally filter a single vector layer — filter_sf","text":"","code":"filter_sf(   file_path,   iso3 = NULL,   iso3_column = NULL,   layer_name = NULL,   drop3d = TRUE,   wkt_filter = NULL,   file_type = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/filter_sf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load and optionally filter a single vector layer — filter_sf","text":"file_path Character. Full file path vector dataset. iso3 Character NULL. ISO3 country code used attribute filtering. iso3_column Character NULL. Column dataset match iso3. layer_name Character NULL. Optional. Specific layer name multi-layer formats. drop3d Logical. TRUE, drops Z M dimensions geometries. wkt_filter Character NULL. Optional WKT string used spatial filtering. file_type Character NULL. File type used determine layer name inference required.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/filter_sf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load and optionally filter a single vector layer — filter_sf","text":"sf object valid geometry, NULL failure.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/filter_sf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load and optionally filter a single vector layer — filter_sf","text":"","code":"if (FALSE) { # \\dontrun{ filter_sf(\"data/layers.gpkg\", iso3 = \"KEN\", iso3_column = \"ISO3\") filter_sf(\"data/boundary.shp\", wkt_filter = \"POLYGON((...))\") } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/find_conda_base.html","id":null,"dir":"Reference","previous_headings":"","what":"Find conda base directory — find_conda_base","title":"Find conda base directory — find_conda_base","text":"Searches common locations conda/miniconda/anaconda installations. Works Windows, macOS, Linux.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/find_conda_base.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find conda base directory — find_conda_base","text":"","code":"find_conda_base()"},{"path":"https://elsa-undp.github.io/elsar/reference/find_conda_base.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find conda base directory — find_conda_base","text":"Path conda base directory, NULL found","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/find_env_python.html","id":null,"dir":"Reference","previous_headings":"","what":"Find Python executable in conda environment — find_env_python","title":"Find Python executable in conda environment — find_env_python","text":"Locates Python executable given conda environment. Handles differences Windows Unix paths.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/find_env_python.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find Python executable in conda environment — find_env_python","text":"","code":"find_env_python(conda_base, env_name)"},{"path":"https://elsa-undp.github.io/elsar/reference/find_env_python.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find Python executable in conda environment — find_env_python","text":"conda_base Path conda base directory env_name Name conda environment","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/find_env_python.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find Python executable in conda environment — find_env_python","text":"Path Python executable, NULL found","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_all_features.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function to get a raster file with all wanted features — get_all_features","title":"Wrapper function to get a raster file with all wanted features — get_all_features","text":"Wrapper function get raster file wanted features","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_all_features.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function to get a raster file with all wanted features — get_all_features","text":"","code":"get_all_features(feature_list, path_in, pus, iso3, output_path = NULL, ...)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_all_features.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function to get a raster file with all wanted features — get_all_features","text":"feature_list list features wanted downstream ELSA workflow. path_in common path data can found. pus SpatRaster file contains reference spatial extent, crs etc.form planning units iso3 string iso3 name data (country name) output_path optional output path created files. ... Additional attributes needed functions wanted.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_all_features.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function to get a raster file with all wanted features — get_all_features","text":"SpatRaster length feature_list + 1 since planning units first layer.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_all_features.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper function to get a raster file with all wanted features — get_all_features","text":"","code":"if (FALSE) { # \\dontrun{ feature_list <- c(\"fml\", \"cropsuit\", \"fi\")  all_feats <- get_all_features(   feature_list = feature_list,   path_in = \"<yourpath>\",   pus = pus,   iso3 = \"NPL\"   ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/get_binary_layers.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract binary layers within a raster stack — get_binary_layers","title":"Extract binary layers within a raster stack — get_binary_layers","text":"function extracts layers raster stack either c(0,1) 1 0. needed split raster stack saved pipeline two raster stacks, one int one float.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_binary_layers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract binary layers within a raster stack — get_binary_layers","text":"","code":"get_binary_layers(raster_stack)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_binary_layers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract binary layers within a raster stack — get_binary_layers","text":"raster_stack terra SpatRaster containing several raster layers, can binary.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_binary_layers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract binary layers within a raster stack — get_binary_layers","text":"Two terra SpatRaster raster stacks, one containing binary layers, one containing float layers","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_binary_layers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract binary layers within a raster stack — get_binary_layers","text":"","code":"if (FALSE) { # \\dontrun{ raster_out <- get_binary_layers(raster_stack = stack)  int_stack <- raster_out[[1]] float_stack <- raster_out[[2]] } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/get_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Areal Coverage of a Zone Relative to Planning Units — get_coverage","title":"Calculate Areal Coverage of a Zone Relative to Planning Units — get_coverage","text":"Calculates percentage zone layer relative total area planning units.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Areal Coverage of a Zone Relative to Planning Units — get_coverage","text":"","code":"get_coverage(zone_layer, pu_layer)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Areal Coverage of a Zone Relative to Planning Units — get_coverage","text":"zone_layer binary SpatRaster representing target zone. pu_layer binary SpatRaster representing planning units.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_coverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Areal Coverage of a Zone Relative to Planning Units — get_coverage","text":"Numeric. Percentage zone coverage across PUs.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_crs_wkt.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert CRS to WKT1 format for GEE — get_crs_wkt","title":"Convert CRS to WKT1 format for GEE — get_crs_wkt","text":"GEE requires CRS WKT1 (OGC) format, WKT2 PROJ4 strings. Modern GDAL/PROJ versions output WKT2 default, GEE parse. helper extracts CRS converts WKT1 format using gdalsrsinfo.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_crs_wkt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert CRS to WKT1 format for GEE — get_crs_wkt","text":"","code":"get_crs_wkt(x)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_crs_wkt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert CRS to WKT1 format for GEE — get_crs_wkt","text":"x SpatRaster, SpatVector, sf object","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_crs_wkt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert CRS to WKT1 format for GEE — get_crs_wkt","text":"Character string WKT1 CRS definition","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the Percentage Area Coverage for a Given Zone — get_elsa_coverage","title":"Calculate the Percentage Area Coverage for a Given Zone — get_elsa_coverage","text":"function calculates percentage total area covered specific zone (e.g., protected areas, managed areas) relative entire planning unit (PU) layer. returns areal coverage percentage.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the Percentage Area Coverage for a Given Zone — get_elsa_coverage","text":"","code":"get_elsa_coverage(zone_layer, pu_layer)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the Percentage Area Coverage for a Given Zone — get_elsa_coverage","text":"zone_layer terra raster object representing specific zone (e.g., protected managed areas) coverage percentage calculated. pu_layer terra raster object representing total planning units (PU) layer defines entire area interest.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_coverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the Percentage Area Coverage for a Given Zone — get_elsa_coverage","text":"numeric value representing percentage coverage zone_layer relative pu_layer.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_coverage.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the Percentage Area Coverage for a Given Zone — get_elsa_coverage","text":"function uses terra::global() calculate sum values zone PU layers, ignoring missing values (NAs), computes percentage zone's total area relative PU's total area.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_coverage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the Percentage Area Coverage for a Given Zone — get_elsa_coverage","text":"","code":"if (FALSE) { # \\dontrun{ # Calculate coverage for protected areas get_coverage(PA, pu) # Calculate coverage for protected zones get_coverage(zone_protect, pu) # Calculate coverage for managed zones get_coverage(zone_manage, pu) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_min_lockin_target.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Minimum Lock-in Targets for Zones — get_elsa_min_lockin_target","title":"Get Minimum Lock-in Targets for Zones — get_elsa_min_lockin_target","text":"function calculates minimum lock-targets different zones (e.g., protect, restore, manage, optionally green). compares input targets minimum coverage needed zone ensures target set threshold.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_min_lockin_target.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Minimum Lock-in Targets for Zones — get_elsa_min_lockin_target","text":"","code":"get_elsa_min_lockin_target(lockin, input, pu)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_min_lockin_target.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Minimum Lock-in Targets for Zones — get_elsa_min_lockin_target","text":"lockin raster list rasters representing locked-areas zone. input list dataframe containing target values zone (e.g., zone_1_target, zone_2_target, etc.). pu raster layer representing planning unit used calculating coverage.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_min_lockin_target.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Minimum Lock-in Targets for Zones — get_elsa_min_lockin_target","text":"tibble containing adjusted target values zone.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_target.html","id":null,"dir":"Reference","previous_headings":"","what":"Get country-specific target value based on the total area of planning units (PU) — get_elsa_target","title":"Get country-specific target value based on the total area of planning units (PU) — get_elsa_target","text":"function calculates target value taking percentage total area represented planning units (PU). result rounded nearest whole number, calculated target zero, small value (1e-4) returned avoid issues zero targets.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_target.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get country-specific target value based on the total area of planning units (PU) — get_elsa_target","text":"","code":"get_elsa_target(PU = NULL, target = NULL)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_target.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get country-specific target value based on the total area of planning units (PU) — get_elsa_target","text":"PU terra raster object representing planning units, total area calculated. target numeric value representing percentage target (e.g., 10 10%).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_target.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get country-specific target value based on the total area of planning units (PU) — get_elsa_target","text":"numeric value representing target area. calculated target zero, function returns small value (1e-4) ensure non-zero target.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_elsa_target.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get country-specific target value based on the total area of planning units (PU) — get_elsa_target","text":"","code":"if (FALSE) { # \\dontrun{ # Example usage with a raster of planning units and a target of 10% get_target(PU = my_planning_units_raster, target = 10) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/get_file_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Infer file type from file path or directory — get_file_type","title":"Infer file type from file path or directory — get_file_type","text":"utility function takes path (file folder) returns detected geospatial file type, \"shp\", \"gpkg\", \"tif\", etc. checks extensions files scans directory contents recognizable formats (e.g., .shp, .gdb).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_file_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Infer file type from file path or directory — get_file_type","text":"","code":"get_file_type(path)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_file_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Infer file type from file path or directory — get_file_type","text":"path Character. file path directory path inspect.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_file_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Infer file type from file path or directory — get_file_type","text":"character string indicating file type (e.g., \"shp\", \"gpkg\", \"tif\").","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_file_type.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Infer file type from file path or directory — get_file_type","text":"","code":"get_file_type(\"data/boundaries.shp\")     # returns \"shp\" #> [1] \"shp\" get_file_type(\"data/vector_layers.gpkg\") # returns \"gpkg\" #> [1] \"gpkg\" if (FALSE) { # \\dontrun{ get_file_type(\"data/rasters\")            # scans folder for known formats } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_ecosystems.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract and Filter IUCN GET Ecosystem Vector Layers — get_iucn_ecosystems","title":"Extract and Filter IUCN GET Ecosystem Vector Layers — get_iucn_ecosystems","text":"function deprecated recommended current use. IUCN GET ecosystem data known quality issues incomplete coverage. Users supply ecosystem data functions like make_threatened_ecosystems_protection() make_underrepresented_ecosystems(). replacement data source Global Ecosystems Atlas planned future versions package.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_ecosystems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract and Filter IUCN GET Ecosystem Vector Layers — get_iucn_ecosystems","text":"","code":"get_iucn_ecosystems(   iucn_get_directory,   iso3,   pus,   boundary_layer,   include_minor_occurrence = TRUE,   iucn_get_prefixes = NULL,   excluded_prefixes = c(\"T7.1\", \"T7.2\", \"T7.3\", \"T7.4\", \"T7.5\"),   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_ecosystems.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract and Filter IUCN GET Ecosystem Vector Layers — get_iucn_ecosystems","text":"iucn_get_directory Character. Path directory containing IUCN GET .gpkg files. iso3 Character. ISO3 country code (used logging naming output file). pus SpatRaster object. Used defining spatial extent target CRS. boundary_layer sf polygon layer (typically country boundary) used spatially crop features. include_minor_occurrence Logical. FALSE, filters ecosystems marked minor occurrence (default TRUE). iucn_get_prefixes Optional character vector GET ecosystem IDs include (e.g., c(\"F1.1\", \"TF1.2\")). NULL, layers included. excluded_prefixes Optional character vector ecosystem prefixes exclude (e.g., c(\"T7.1\", \"T7.2\") intensive land-use biomes). Default exclude T7 classes. output_path Character NULL. specified, writes resulting sf object GeoPackage directory.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_ecosystems.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract and Filter IUCN GET Ecosystem Vector Layers — get_iucn_ecosystems","text":"sf object merged, reprojected, valid IUCN GET ecosystem features intersecting target boundary.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_ecosystems.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract and Filter IUCN GET Ecosystem Vector Layers — get_iucn_ecosystems","text":"function reads, intersects, reprojects, merges .gpkg vector files representing IUCN Global Ecosystem Typology (GET) layers specified directory. allows filtering filename prefixes (e.g., \"T1.2\", \"TF1.4\"), excludes specific ecosystem types (e.g., intensive land-use biomes), optionally removes features minor occurrence flags. resulting layer cropped country boundary reprojected match planning units raster. ecosystem layer ID (e.g., \"F1.1\") extracted source filename added feature get_id column tracking. output_path specified, final filtered valid sf object saved GeoPackage.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_ecosystems.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract and Filter IUCN GET Ecosystem Vector Layers — get_iucn_ecosystems","text":"","code":"if (FALSE) { # \\dontrun{ # Define inputs pus <- terra::rast(\"data/pus_raster.tif\") boundary <- sf::st_read(\"data/country_boundary.gpkg\")  # Get all layers except intensive land-use (T7) and minor occurrences ecosystems <- get_iucn_ecosystems(   iucn_get_directory = \"data/iucn_layers\",   iso3 = \"KEN\",   boundary_layer = boundary,   pus = pus,   include_minor_occurrence = FALSE,   excluded_prefixes = c(\"T7.1\", \"T7.2\", \"T7.3\", \"T7.4\", \"T7.5\"),   output_path = \"outputs\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_forests.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract and Rasterise IUCN Forest Ecosystems from Preloaded Layer — get_iucn_forests","title":"Extract and Rasterise IUCN Forest Ecosystems from Preloaded Layer — get_iucn_forests","text":"function deprecated recommended current use. IUCN GET ecosystem data known quality issues incomplete coverage. Users supply forest ecosystem data. replacement data source Global Ecosystems Atlas planned future versions package.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_forests.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract and Rasterise IUCN Forest Ecosystems from Preloaded Layer — get_iucn_forests","text":"","code":"get_iucn_forests(   iucn_get_sf,   iso3,   pus,   boundary_layer,   include_minor_occurrence = TRUE,   iucn_get_prefixes = c(\"MFT1.2\", \"T1.1\", \"T1.2\", \"T1.3\", \"T1.4\", \"T2.1\", \"T2.2\", \"T2.3\",     \"T2.4\", \"T2.5\", \"T2.6\", \"TF1.1\", \"TF1.2\"),   excluded_prefixes = NULL,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_forests.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract and Rasterise IUCN Forest Ecosystems from Preloaded Layer — get_iucn_forests","text":"iucn_get_sf sf object. IUCN GET polygons already loaded pre-clipped boundary. iso3 Character. ISO3 country code, used naming passed make_normalised_raster(). pus SpatRaster. Planning units raster forest coverage computed. boundary_layer sf object. Used spatially clip features necessary. include_minor_occurrence Logical. FALSE, removes minor occurrence ecosystems. iucn_get_prefixes Character vector layer prefixes retain (default forest-related). excluded_prefixes Optional character vector prefixes exclude (e.g., \"T7.1\"). output_path Optional character. Output directory save raster.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_forests.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract and Rasterise IUCN Forest Ecosystems from Preloaded Layer — get_iucn_forests","text":"normalized SpatRaster showing fractional IUCN forest coverage across PUs.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_forests.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract and Rasterise IUCN Forest Ecosystems from Preloaded Layer — get_iucn_forests","text":"function filters IUCN GET polygons (already loaded sf) include forest ecosystems, merges , calculates proportional coverage across planning unit. result normalized 0-1 scale using elsar::make_normalised_raster(). Optionally, result can written Cloud-Optimized GeoTIFF file.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_iucn_forests.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract and Rasterise IUCN Forest Ecosystems from Preloaded Layer — get_iucn_forests","text":"","code":"if (FALSE) { # \\dontrun{ iucn_data <- get_iucn_ecosystems(...) forest_layer <- get_iucn_forests_from_layer(   iucn_get_sf = iucn_data,   pus = pus,   iso3 = \"KEN\",   boundary_layer = boundary,   excluded_prefixes = c(\"T7.1\", \"T7.2\"),   output_path = \"outputs\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/get_lulc_class_value.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Specific LULC Class Value — get_lulc_class_value","title":"Get Specific LULC Class Value — get_lulc_class_value","text":"Retrieves specific class value given LULC product. primary interface consumer functions obtain class values dynamically based LULC product used.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_lulc_class_value.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Specific LULC Class Value — get_lulc_class_value","text":"","code":"get_lulc_class_value(product, class_name)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_lulc_class_value.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Specific LULC Class Value — get_lulc_class_value","text":"product Character. LULC product ID: one \"esri_10m\", \"dynamic_world\", \"esa_worldcover\". class_name Character. Standardized class name retrieve. Common names include: \"agriculture\", \"built_area\", \"trees\", \"water\", \"forest_managed\", \"forest_all\".","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_lulc_class_value.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Specific LULC Class Value — get_lulc_class_value","text":"Integer integer vector class values specified class.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_lulc_class_value.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Specific LULC Class Value — get_lulc_class_value","text":"","code":"# Get agriculture class value for different products get_lulc_class_value(\"esri_10m\", \"agriculture\")       # Returns 5 #> [1] 5 get_lulc_class_value(\"dynamic_world\", \"agriculture\")  # Returns 4 #> [1] 4 get_lulc_class_value(\"esa_worldcover\", \"agriculture\") # Returns 40 #> [1] 40  # Get built area class value get_lulc_class_value(\"esri_10m\", \"built_area\")        # Returns 7 #> [1] 7 get_lulc_class_value(\"dynamic_world\", \"built_area\")   # Returns 6 #> [1] 6  # Get managed forest classes (may return vector) get_lulc_class_value(\"esri_10m\", \"forest_managed\")    # Returns c(31, 32, 40, 53) #> [1] 31 32 40 53"},{"path":"https://elsa-undp.github.io/elsar/reference/get_lulc_classes.html","id":null,"dir":"Reference","previous_headings":"","what":"Get LULC Class Mappings for a Product — get_lulc_classes","title":"Get LULC Class Mappings for a Product — get_lulc_classes","text":"Returns named list standardized class mappings specified LULC product. provides consistent access class values across different LULC products, enabling product-agnostic processing downstream functions.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_lulc_classes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get LULC Class Mappings for a Product — get_lulc_classes","text":"","code":"get_lulc_classes(product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\"))"},{"path":"https://elsa-undp.github.io/elsar/reference/get_lulc_classes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get LULC Class Mappings for a Product — get_lulc_classes","text":"product Character. Product ID: one \"esri_10m\", \"dynamic_world\", \"esa_worldcover\". product different class value schemes.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_lulc_classes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get LULC Class Mappings for a Product — get_lulc_classes","text":"named list class value mappings. Common keys include: water: Water bodies trees: Tree cover / forest agriculture: Cropland / cultivated areas built_area: Built-/ urban areas forest_managed: Managed forest classes (may vector) forest_all: forest-related classes (may vector)","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_lulc_classes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get LULC Class Mappings for a Product — get_lulc_classes","text":"","code":"# Get all class mappings for ESRI 10m LULC classes <- get_lulc_classes(\"esri_10m\") classes$agriculture  # Returns 5 #> [1] 5 classes$built_area   # Returns 7 #> [1] 7  # Get Dynamic World classes dw_classes <- get_lulc_classes(\"dynamic_world\") dw_classes$agriculture  # Returns 4 #> [1] 4  # Get ESA WorldCover classes esa_classes <- get_lulc_classes(\"esa_worldcover\") esa_classes$agriculture  # Returns 40 #> [1] 40"},{"path":"https://elsa-undp.github.io/elsar/reference/get_min_lockin_target.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Minimum Lock-in Targets for Zones — get_min_lockin_target","title":"Get Minimum Lock-in Targets for Zones — get_min_lockin_target","text":"Calculates minimum lock-targets different zones (e.g., protect, restore, manage, optionally green). Compares input targets minimum coverage needed zone ensures targets set threshold.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_min_lockin_target.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Minimum Lock-in Targets for Zones — get_min_lockin_target","text":"","code":"get_min_lockin_target(lockin, input, pu)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_min_lockin_target.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Minimum Lock-in Targets for Zones — get_min_lockin_target","text":"lockin raster list rasters representing locked-areas zone. input list dataframe containing target values zone (e.g., zone_1_target, zone_2_target, etc.). pu raster layer representing planning unit used calculating coverage.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_min_lockin_target.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Minimum Lock-in Targets for Zones — get_min_lockin_target","text":"tibble containing adjusted target values zone.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_target.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Target Area from Percentage — get_target","title":"Calculate Target Area from Percentage — get_target","text":"Calculates target value taking percentage total area represented planning units (PU). result rounded nearest whole number, calculated target zero, small value (1e-4) returned avoid issues zero targets optimization.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_target.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Target Area from Percentage — get_target","text":"","code":"get_target(pu = NULL, target = NULL)"},{"path":"https://elsa-undp.github.io/elsar/reference/get_target.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Target Area from Percentage — get_target","text":"pu SpatRaster representing planning units, total area calculated. target numeric value representing percentage target (e.g., 10 10%).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_target.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Target Area from Percentage — get_target","text":"numeric value representing target area. calculated target zero, returns small value (1e-4) ensure non-zero target.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_target.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Target Area from Percentage — get_target","text":"","code":"if (FALSE) { # \\dontrun{ # Calculate target for 10% of planning units get_target(pu = my_planning_units_raster, target = 10) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/get_wad_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get WAD (World Atlas of Desertification) subset data — get_wad_data","title":"Get WAD (World Atlas of Desertification) subset data — get_wad_data","text":"Loads subset WAD data saved TIF file package's extdata directory.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_wad_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get WAD (World Atlas of Desertification) subset data — get_wad_data","text":"","code":"get_wad_data()"},{"path":"https://elsa-undp.github.io/elsar/reference/get_wad_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get WAD (World Atlas of Desertification) subset data — get_wad_data","text":"SpatRaster object containing WAD subset data.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/get_wad_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get WAD (World Atlas of Desertification) subset data — get_wad_data","text":"","code":"if (FALSE) { # \\dontrun{ wad <- get_wad_data() } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/initialize_earthengine.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize Google Earth Engine — initialize_earthengine","title":"Initialize Google Earth Engine — initialize_earthengine","text":"Sets Python environment initializes Earth Engine API. Handles authentication temporary conda environments needed.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/initialize_earthengine.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize Google Earth Engine — initialize_earthengine","text":"","code":"initialize_earthengine(gee_project)"},{"path":"https://elsa-undp.github.io/elsar/reference/initialize_earthengine.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize Google Earth Engine — initialize_earthengine","text":"gee_project Character. Google Earth Engine cloud project ID. required must valid GEE project access . can find project ID GEE Code Editor Google Cloud Console.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/initialize_earthengine.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize Google Earth Engine — initialize_earthengine","text":"list containing ee module temporary environment name (created)","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/initialize_earthengine.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Initialize Google Earth Engine — initialize_earthengine","text":"","code":"if (FALSE) { # \\dontrun{ env_info <- initialize_earthengine(\"my-gee-project\") ee <- env_info$ee } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/list_lulc_products.html","id":null,"dir":"Reference","previous_headings":"","what":"List Available LULC Products — list_lulc_products","title":"List Available LULC Products — list_lulc_products","text":"Returns information supported LULC products, including display names, resolutions, data sources.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/list_lulc_products.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Available LULC Products — list_lulc_products","text":"","code":"list_lulc_products()"},{"path":"https://elsa-undp.github.io/elsar/reference/list_lulc_products.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Available LULC Products — list_lulc_products","text":"tibble columns: product_id: Internal product identifier display_name: Human-readable product name resolution: Native resolution meters source_type: Data source type (\"gee\" \"local\") temporal: Temporal availability description","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/list_lulc_products.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Available LULC Products — list_lulc_products","text":"","code":"list_lulc_products() #> # A tibble: 4 × 5 #>   product_id     display_name             resolution source_type temporal        #>   <chr>          <chr>                         <dbl> <chr>       <chr>           #> 1 esri_10m       ESRI Global LULC 10m             10 gee         Annual (2017-p… #> 2 dynamic_world  Google Dynamic World             10 gee         Near real-time… #> 3 esa_worldcover ESA WorldCover v200              10 gee         Static (2021 b… #> 4 local          User-Provided Local File         NA local       User-defined"},{"path":"https://elsa-undp.github.io/elsar/reference/load_local_lulc_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Load User-Provided Local LULC Data — load_local_lulc_data","title":"Load User-Provided Local LULC Data — load_local_lulc_data","text":"Loads validates user-provided LULC GeoTIFF Cloud-Optimized GeoTIFF (COG) file. Ensures data properly formatted optionally validates coverage boundary layer.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/load_local_lulc_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load User-Provided Local LULC Data — load_local_lulc_data","text":"","code":"load_local_lulc_data(local_file, boundary_layer = NULL)"},{"path":"https://elsa-undp.github.io/elsar/reference/load_local_lulc_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load User-Provided Local LULC Data — load_local_lulc_data","text":"local_file Character. Path local GeoTIFF COG file. boundary_layer sf object extent validation (optional recommended).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/load_local_lulc_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load User-Provided Local LULC Data — load_local_lulc_data","text":"SpatRaster object attribute lulc_product = \"local\".","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/load_local_lulc_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Load User-Provided Local LULC Data — load_local_lulc_data","text":"using local LULC file, must provide class mappings consumer functions (e.g., make_manage_zone(), make_protect_zone()) via agriculture_lulc_value, built_area_lulc_value, similar parameters.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/load_local_lulc_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load User-Provided Local LULC Data — load_local_lulc_data","text":"","code":"if (FALSE) { # \\dontrun{ # Load a local LULC file local_lulc <- load_local_lulc_data(   local_file = \"path/to/my_lulc.tif\",   boundary_layer = ghana_boundary )  # Use with custom class mappings manage_zone <- make_manage_zone(   lulc_raster = local_lulc,   lulc_product = \"local\",   agriculture_lulc_value = 12,   built_area_lulc_value = 15,   ... ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/log_message.html","id":null,"dir":"Reference","previous_headings":"","what":"Log a message with timestamp — log_message","title":"Log a message with timestamp — log_message","text":"Prints timestamped message console. Supports glue-style interpolation variables calling environment. Optionally prints returns variable value, useful debugging pipelines.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/log_message.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Log a message with timestamp — log_message","text":"","code":"log_message(msg, variable = NULL)  log_msg(msg, variable = NULL)"},{"path":"https://elsa-undp.github.io/elsar/reference/log_message.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Log a message with timestamp — log_message","text":"msg Character. Message log, supports glue syntax variable interpolation. variable Optional. provided, appends value message returns invisibly.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/log_message.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Log a message with timestamp — log_message","text":"Invisibly returns NULL, variable provided.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/log_message.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Log a message with timestamp — log_message","text":"","code":"# Simple message log_message(\"Starting the process...\") #> [2026-02-20 14:04:23] Starting the process...  # With variable interpolation iso3 <- \"KEN\" log_message(\"Processing {iso3}...\") #> [2026-02-20 14:04:23] Processing KEN...  # With variable return (useful in pipelines) result <- log_message(\"Computed value\", 42) #> [2026-02-20 14:04:23] Computed value: 42"},{"path":"https://elsa-undp.github.io/elsar/reference/make_boundary.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a boundary of the planning region — make_boundary","title":"Create a boundary of the planning region — make_boundary","text":"Create boundary planning region","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_boundary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a boundary of the planning region — make_boundary","text":"","code":"make_boundary(   boundary_in,   input_type = \"sf\",   limit_to_mainland = FALSE,   col_name = NULL,   filter_out = 0,   custom_projection = TRUE,   iso3 = NULL,   iso3_column = NULL,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_boundary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a boundary of the planning region — make_boundary","text":"boundary_in file containing boundary information. Can sf SpatRaster input_type string either \"sf\" \"SpatRaster\" (default \"sf\"). limit_to_mainland Logical. Limits extent data mainland. col_name string column containing actual extent planning region (outside area). Can NULL. filter_out value representing outside area data (e.g. 0) custom_projection Logical. TRUEif custom projection planning region wanted. iso3 iso3 country code (character) country interest. iso3_column relevant iso3 != NULL. string name iso3 information can found dataset. output_path optional output path created file. needed custom_projection = TRUE.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_boundary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a boundary of the planning region — make_boundary","text":"sf object boundary planning region","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_boundary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a boundary of the planning region — make_boundary","text":"","code":"boundary <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\" ) #> [2026-02-20 14:04:23] Creating boundary for planning region... #> [2026-02-20 14:04:23] Creating custom Mollweide projection centred on planning region..."},{"path":"https://elsa-undp.github.io/elsar/reference/make_custom_projection.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a custom projection based on the planning region — make_custom_projection","title":"Create a custom projection based on the planning region — make_custom_projection","text":"Create custom projection based planning region","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_custom_projection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a custom projection based on the planning region — make_custom_projection","text":"","code":"make_custom_projection(   boundary,   output_path = NULL,   iso3_column = \"iso3cd\",   iso3 = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_custom_projection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a custom projection based on the planning region — make_custom_projection","text":"boundary sf object boundary planning region. match iso3 country code. output_path optional output path created file. iso3_column string name iso3 information can found dataset. iso3 iso3 country code (character) country interest.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_custom_projection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a custom projection based on the planning region — make_custom_projection","text":"wkt file centred planning region","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_custom_projection.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a custom projection based on the planning region — make_custom_projection","text":"","code":"boundary <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"NPL\",   iso3_column = \"iso3cd\" ) #> [2026-02-20 14:04:23] Creating boundary for planning region... #> [2026-02-20 14:04:23] Creating custom Mollweide projection centred on planning region...  wkt <- make_custom_projection(boundary = boundary, iso3 = \"NPL\") #> [2026-02-20 14:04:23] Creating custom Mollweide projection centred on planning region..."},{"path":"https://elsa-undp.github.io/elsar/reference/make_degraded_areas.html","id":null,"dir":"Reference","previous_headings":"","what":"Create degraded areas layer for restoration planning — make_degraded_areas","title":"Create degraded areas layer for restoration planning — make_degraded_areas","text":"function generates degraded areas layer based multiple inputs, including agriculture, built-areas, human influence index (HII), productivity decline layers. output raster identifying degraded areas according set thresholds.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_degraded_areas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create degraded areas layer for restoration planning — make_degraded_areas","text":"","code":"make_degraded_areas(   country_iso,   pu,   sdg_degradation_input = NULL,   hii_input = NULL,   lulc_proportions = NULL,   agriculture_input = NULL,   built_areas_input = NULL,   output_path = NULL,   hii_threshold = 4,   lulc_threshold = 0.1 )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_degraded_areas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create degraded areas layer for restoration planning — make_degraded_areas","text":"country_iso ISO3 country code (e.g., \"CHL\" Chile). pu Planning units raster (SpatRaster). sdg_degradation_input Productivity degradation layer (SpatRaster). hii_input Human Influence Index (HII) raster (SpatRaster). lulc_proportions multi-band SpatRaster download_lulc_proportions() containing pre-computed class proportions. provided, bands named \"agriculture\" \"built_area\" used automatically, overriding agriculture_input built_areas_input. agriculture_input Agriculture layer (SpatRaster). built_areas_input Built-areas layer (SpatRaster). output_path Directory save output rasters. NULL, output saved. hii_threshold Threshold Human Influence Index (default: 4). lulc_threshold Threshold built agriculture layers (default: 0.1).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_degraded_areas.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create degraded areas layer for restoration planning — make_degraded_areas","text":"SpatRaster object containing degraded areas layer.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_degraded_areas.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create degraded areas layer for restoration planning — make_degraded_areas","text":"","code":"if (FALSE) { # \\dontrun{ restore_zone <- make_degraded_areas(   \"CHL\",   pu,   sdg_degradation_input,   hii_input,   agriculture_input,   built_areas_input,   output_path = \"./output\"   ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_flood_abatement_opportunities.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Flood Abatement Opportunities Raster — make_flood_abatement_opportunities","title":"Create a Flood Abatement Opportunities Raster — make_flood_abatement_opportunities","text":"function generates raster identifies flood abatement opportunities integrating Global Flood Database (GFD) NDVI (Normalized Difference Vegetation Index). function normalizes NDVI flood risk data, calculates potential areas flood abatement based relationship.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_flood_abatement_opportunities.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Flood Abatement Opportunities Raster — make_flood_abatement_opportunities","text":"","code":"make_flood_abatement_opportunities(   gfd_raster,   ndvi_raster,   pus,   iso3,   output_path = NULL,   threads = TRUE )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_flood_abatement_opportunities.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Flood Abatement Opportunities Raster — make_flood_abatement_opportunities","text":"gfd_raster SpatRaster representing flood risk data Global Flood Database. ndvi_raster SpatRaster representing NDVI data. pus SpatRaster defining planning unit (PU) grid. iso3 character string representing ISO3 country code. output_path character string specifying output directory saving raster (optional). threads logical value indicating whether use multi-threaded processing supported (default: TRUE).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_flood_abatement_opportunities.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Flood Abatement Opportunities Raster — make_flood_abatement_opportunities","text":"SpatRaster representing flood abatement opportunities, rescaled 0 1. output_path provided, raster saved Cloud-Optimized GeoTIFF (COG).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_flood_abatement_opportunities.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Flood Abatement Opportunities Raster — make_flood_abatement_opportunities","text":"","code":"if (FALSE) { # \\dontrun{ flood_abatement <- make_flood_abatement_opportunities(   gfd_raster = terra::rast(\"gfd_flood_database.tif\"),   ndvi_raster = terra::rast(\"mod13q1_2022_ndvi_wgs84.tif\"),   pus = planning_units,   iso3 = \"NPL\",   output_path = \"path/to/output\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_forest_integrity.html","id":null,"dir":"Reference","previous_headings":"","what":"Create the forest integrity index using flii and fsii data — make_forest_integrity","title":"Create the forest integrity index using flii and fsii data — make_forest_integrity","text":"Create forest integrity index using flii fsii data","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_forest_integrity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create the forest integrity index using flii and fsii data — make_forest_integrity","text":"","code":"make_forest_integrity(   raster_flii = NULL,   raster_fsii = NULL,   pus,   iso3,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_forest_integrity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create the forest integrity index using flii and fsii data — make_forest_integrity","text":"raster_flii SpatRaster file flii information. raster_fsii SpatRaster file fsii information. pus SpatRaster file contains reference spatial extent, crs etc.form planning units iso3 string iso3 name data (country name) output_path optional output path created file.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_forest_integrity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create the forest integrity index using flii and fsii data — make_forest_integrity","text":"SpatRaster file forest integrity index aligned normalised","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_forest_integrity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create the forest integrity index using flii and fsii data — make_forest_integrity","text":"","code":"if (FALSE) { # \\dontrun{ forest_integrity1 <- make_forest_integrity(   raster_flii = raster_flii,   pus = pus )  forest_integrity2 <- make_forest_integrity(   raster_fsii = raster_fsii,   pus = pus )  forest_integrity3 <- make_forest_integrity(   raster_flii = raster_flii,   raster_fsii = raster_fsii,   pus = pus )  zero_fsii <- raster_fsii zero_fsii[zero_fsii < 14] = 0  forest_integrity4 <- make_forest_integrity(   raster_flii = raster_flii,   raster_fsii = raster_fsii,   pus = pus )  } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_indigenous_managed_lands.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Indigenous Managed Lands Raster (LANDMark + ICCA) — make_indigenous_managed_lands","title":"Create Indigenous Managed Lands Raster (LANDMark + ICCA) — make_indigenous_managed_lands","text":"function identifies Indigenous- community-managed lands using two datasets: LANDMark dataset ICCA Registry. buffers point geometries required, merges sources, calculates fractional coverage planning units, applies threshold, returns binary raster indicating areas likely Indigenous management.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_indigenous_managed_lands.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Indigenous Managed Lands Raster (LANDMark + ICCA) — make_indigenous_managed_lands","text":"","code":"make_indigenous_managed_lands(   sf_landmark = NULL,   sf_icca = NULL,   iso3,   pus,   buffer_points = TRUE,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_indigenous_managed_lands.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Indigenous Managed Lands Raster (LANDMark + ICCA) — make_indigenous_managed_lands","text":"sf_landmark sf NULL. LANDMark Indigenous lands dataset, subset country interest. sf_icca sf NULL. ICCA Registry dataset, subset country interest. iso3 Character. ISO3 country code naming. pus SpatRaster. Planning unit raster alignment coverage calculations. buffer_points Logical. Buffer POINT/MULTIPOINT geometries polygons (default = TRUE). output_path Character NULL. provided, saves output raster COG directory.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_indigenous_managed_lands.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Indigenous Managed Lands Raster (LANDMark + ICCA) — make_indigenous_managed_lands","text":"binary SpatRaster : 1 = likely Indigenous-managed 0 = Indigenous-managed","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_indigenous_managed_lands.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Indigenous Managed Lands Raster (LANDMark + ICCA) — make_indigenous_managed_lands","text":"","code":"if (FALSE) { # \\dontrun{ indigenous_lands <- make_indigenous_managed_lands(   sf_landmark = landmark_sf,   sf_icca = icca_sf,   iso3 = \"COL\",   pus = planning_units,   output_path = \"outputs/\" ) terra::plot(indigenous_lands) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_kbas.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Standardised Raster of Key Biodiversity Areas (KBAs) — make_kbas","title":"Create a Standardised Raster of Key Biodiversity Areas (KBAs) — make_kbas","text":"function processes Key Biodiversity Areas (KBA) vector dataset converts normalised raster aligned input planning units. allows filtering include exclude Alliance Zero Extinction (AZE) sites, well optionally excluding KBAs marked \"Regional\". default, includes KBAs except regional-sites. can also used return AZE sites aze_only = TRUE.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_kbas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Standardised Raster of Key Biodiversity Areas (KBAs) — make_kbas","text":"","code":"make_kbas(   kba_in,   pus,   iso3,   include_aze_sites = FALSE,   aze_only = FALSE,   include_regional_kba = FALSE,   buffer_points = TRUE,   area_column = \"repareakm2\",   nQuadSegs = 50,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_kbas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Standardised Raster of Key Biodiversity Areas (KBAs) — make_kbas","text":"kba_in sf object containing KBA vector features, including columns like iso3, azestatus, kbaclass. pus SpatRaster object representing planning units (reference extent resolution). iso3 character string representing 3-letter ISO country code (e.g., \"KEN\"). include_aze_sites Logical. TRUE, includes KBAs also AZE sites (default FALSE). aze_only Logical. TRUE, returns confirmed AZE sites (default FALSE). include_regional_kba Logical. FALSE, filters KBAs marked \"Regional\" \"Global/ Regional determined\". buffer_points Logical. TRUE, circular buffers generated around point geometries using area_column attribute (default TRUE). area_column string indicating name column containing reported area point geometries (km²), used buffering points. default \"repareakm2\" KBA dataset's column points reported areas. Note: sitareakm2 contains site area polygon features typically NA points. nQuadSegs integer specifying number segments used approximate circular buffers (default: 50). output_path Optional character. Directory path save output raster. NULL, output written file.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_kbas.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Standardised Raster of Key Biodiversity Areas (KBAs) — make_kbas","text":"SpatRaster object normalised values representing KBA (AZE) coverage across planning units. output_path provided, raster also written disk.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_kbas.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Standardised Raster of Key Biodiversity Areas (KBAs) — make_kbas","text":"","code":"if (FALSE) { # \\dontrun{ kba_raster <- make_kbas(   kba_in = kba_sf,   pus = planning_units,   iso3 = \"KEN\",   aze_only = TRUE,   output_path = \"outputs\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_manage_zone.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Sustainable Management Zones for ELSA Analysis — make_manage_zone","title":"Generate Sustainable Management Zones for ELSA Analysis — make_manage_zone","text":"function identifies planning units eligible \"Manage\" zone ELSA framework. zone (default) includes areas moderate level human influence (HII 20th 80th percentiles), managed forest types, agricultural pastureland areas, explicitly excludes built-areas. alternative zone includes limited agricultural areas pasturelands.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_manage_zone.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Sustainable Management Zones for ELSA Analysis — make_manage_zone","text":"","code":"make_manage_zone(   iso3,   pus,   managed_forests_input,   raster_mf = NULL,   lulc_proportions = NULL,   agricultural_areas_input = NULL,   pasturelands_input = NULL,   built_areas_input = NULL,   lulc_raster = NULL,   hii_input = NULL,   pasturelands_threshold = 0.35,   lulc_product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\", \"local\"),   agriculture_lulc_value = NULL,   built_area_lulc_value = NULL,   forest_classes = NULL,   forest_class_threshold = 0.1,   agriculture_threshold = 0.1,   built_areas_threshold = 0.1,   filter_patch_size = TRUE,   min_patch_size = 10,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_manage_zone.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Sustainable Management Zones for ELSA Analysis — make_manage_zone","text":"iso3 Character. ISO3 country code (e.g., \"CHL\"). pus SpatRaster. Planning units raster inputs aligned. managed_forests_input SpatRaster. preprocssed raster managed forest extent. raster_mf SpatRaster raster forest classes identify managed forests. lulc_proportions multi-band SpatRaster download_lulc_proportions() containing pre-computed class proportions. provided, bands named \"agriculture\" \"built_area\" used automatically, overriding agricultural_areas_input built_areas_input. agricultural_areas_input SpatRaster. binary categorical raster representing agricultural areas. pasturelands_input SpatRaster. binary categorical raster representing (actively managed/improved)pastures. built_areas_input SpatRaster. binary categorical raster representing built-/urban areas. lulc_raster SpatRaster NULL. Optional raw LULC input used extract agriculture built-layers inputs categorical. hii_input SpatRaster. Human Footprint Index raster. pasturelands_threshold Numeric. Probability threshold cells considered pasturelands (default = 0.35). lulc_product Character. LULC product used class value lookups: \"esri_10m\" (default), \"dynamic_world\", \"esa_worldcover\", \"local\". \"local\", explicit class values must provided. agriculture_lulc_value Integer NULL. LULC value agriculture. NULL, automatically determined lulc_product. Default NULL. built_area_lulc_value Integer NULL. LULC value built-areas. NULL, automatically determined lulc_product. Default NULL. forest_classes Integer vector NULL. LULC values representing managed forests. NULL, automatically determined lulc_product. Default NULL. forest_class_threshold Numeric. Minimum proportion managed forest cell include (default = 0.1). agriculture_threshold Numeric. Minimum proportion agriculture cell include (default = 0.1). built_areas_threshold Numeric. Threshold cells considered built-excluded (default = 0.1). filter_patch_size Logical. Whether remove small patches (default = TRUE). min_patch_size Integer. Minimum size patches retain (cells; default = 10). output_path Character NULL. provided, save result path COG (default = NULL).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_manage_zone.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Sustainable Management Zones for ELSA Analysis — make_manage_zone","text":"SpatRaster two layers: manage_zone_v1 manage_zone_v2.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_manage_zone.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Sustainable Management Zones for ELSA Analysis — make_manage_zone","text":"Two layers returned: manage_zone_v1: Based HII quantile range, agriculture, managed forests (excluding built-areas) manage_zone_v2: Simplified zone based agriculture output_path provided, layers saved (multiband) Cloud Optimized GeoTIFF (COG).","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/make_manage_zone.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Sustainable Management Zones for ELSA Analysis — make_manage_zone","text":"","code":"if (FALSE) { # \\dontrun{ manage_zone <- make_manage_zone(   iso3 = \"CHL\",   pus = planning_units,   managed_forests_input = forest_raster,   agricultural_areas_input = agri_raster,   pasturelands_input = pastures_raster,   built_areas_input = built_raster,   lulc_raster = landcover_raster,   hii_input = hfp_raster,   output_path = \"outputs/\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_managed_forests.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Managed Forests and Productive Managed Forests Raster Layers — make_managed_forests","title":"Create Managed Forests and Productive Managed Forests Raster Layers — make_managed_forests","text":"function generates standardised raster managed forests, optionally including disturbed forests separate layer productive managed forests (based NPP data). input raster contain LULC classification values reclassified according defined managed forest class codes.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_managed_forests.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Managed Forests and Productive Managed Forests Raster Layers — make_managed_forests","text":"","code":"make_managed_forests(   raster_in,   pus,   iso3,   lulc_product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\", \"local\"),   forest_classes = NULL,   include_disturbed_forest = FALSE,   make_productive = FALSE,   raster_npp = NULL,   name_out,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_managed_forests.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Managed Forests and Productive Managed Forests Raster Layers — make_managed_forests","text":"raster_in SpatRaster representing forest management classifications. pus SpatRaster used template extent, resolution, alignment. iso3 3-letter ISO country code string. lulc_product Character. LULC product used class value lookups: \"esri_10m\" (default), \"dynamic_world\", \"esa_worldcover\", \"local\". \"local\", forest_classes must explicitly provided. forest_classes Integer vector NULL. Class codes representing managed forests. NULL, automatically determined lulc_product. Default NULL. include_disturbed_forest Logical. TRUE, includes disturbed forest class (code 20) forest_classes. make_productive Logical. TRUE, also generates productive managed forest raster. raster_npp SpatRaster NPP data used generating productive forest layer. Required make_productive = TRUE. name_out Character. Name stem output file(s) (optional, currently used). output_path Optional character. Directory save output raster(s) provided.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_managed_forests.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Managed Forests and Productive Managed Forests Raster Layers — make_managed_forests","text":"SpatRaster either one layer (managed forests) two layers (managed forests productive managed forests).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_managed_forests.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Managed Forests and Productive Managed Forests Raster Layers — make_managed_forests","text":"make_productive = TRUE, function multiplies managed forest raster normalised raster Net Primary Productivity (NPP) generate layer representing productive managed forests.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_managed_forests.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Managed Forests and Productive Managed Forests Raster Layers — make_managed_forests","text":"","code":"if (FALSE) { # \\dontrun{ managed_forests <- make_managed_forests(   raster_in = forest_lulc,   pus = planning_units,   iso3 = \"NPL\",   make_productive = TRUE,   raster_npp = npp_raster ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_mangroves.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to make standardised mangroves data — make_mangroves","title":"Function to make standardised mangroves data — make_mangroves","text":"make_mangroves()allows align, normalise sffile save raster file. Originally created prepare Global Mangrove Watch data.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_mangroves.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to make standardised mangroves data — make_mangroves","text":"","code":"make_mangroves(sf_in, pus, iso3, name_out, output_path = NULL)"},{"path":"https://elsa-undp.github.io/elsar/reference/make_mangroves.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to make standardised mangroves data — make_mangroves","text":"sf_in sf file contains data put right format pus SpatRaster file contains reference spatial extent, crs etc.form planning units iso3 string iso3 name data (country name) name_out string data name used output tiffile output_path optional output path created file.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_mangroves.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to make standardised mangroves data — make_mangroves","text":"SpatRaster file aligned normalised","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_mangroves.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to make standardised mangroves data — make_mangroves","text":"","code":"if (FALSE) { # \\dontrun{ boundary_proj <- make_boundary(   boundary_in = boundary_dat,   iso3 = \"IND\",   iso3_column = \"iso3cd\"   )  # make planning units pus <- make_planning_units(   boundary_proj = boundary_proj,   pu_size = NULL,   pu_threshold = 8.5e5,   limit_to_mainland = FALSE   )  path_in <- \"<yourPath>\" ist_dat <- extract_filename_filetype(   data_name = \"gmw\",   file_path = path_in   )  mangroves <- load_data(   file_name = paste0(list_dat[\"filename\"][[1]], list_dat[\"filetype\"][[1]]),   file_path = path_in,   wkt_filter = TRUE,   bb_extend = pus   )  mangrove_raster <- make_mangroves(   sf_in = mangroves,   pus = pus   ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_normalised_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Normalised Raster Aligned with and masked by Planning Units — make_normalised_raster","title":"Create a Normalised Raster Aligned with and masked by Planning Units — make_normalised_raster","text":"function takes input raster, aligns specified planning units (PUs), optionally inverts, rescales, applies conditional expressions, saves processed raster specified output path.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_normalised_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Normalised Raster Aligned with and masked by Planning Units — make_normalised_raster","text":"","code":"make_normalised_raster(   raster_in,   pus,   iso3,   invert = FALSE,   rescaled = TRUE,   method_override = NULL,   crop_global_input = TRUE,   input_raster_conditional_expression = NULL,   conditional_expression = NULL,   fill_na = 0,   name_out,   output_path = NULL,   threads = TRUE )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_normalised_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Normalised Raster Aligned with and masked by Planning Units — make_normalised_raster","text":"raster_in SpatRaster input raster processed. pus SpatVector planning units (PUs) align raster . iso3 character ISO3 country code used naming output file. invert logical TRUE, inverts raster values (default: FALSE). rescaled logical TRUE, rescales raster using rescale_raster() (default: TRUE). method_override character Optional method terra::project(), overriding default (default: NULL). crop_global_input logical true input (large global) raster cropped PU extent applying input_raster_conditional_expression, reduce processing (default: TRUE). input_raster_conditional_expression function Optional method apply function raster resampling PU layer (default: NULL). conditional_expression function Optional method apply function raster resampling PU layer (default: NULL). fill_na numeric NA fill value use fill NA values masking (default: 0). name_out character name output raster file (without extension). output_path character directory path save output raster (default: NULL, .e., saved). threads Optional method use multi-core processing - speed terra functions (default: TRUE).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_normalised_raster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Normalised Raster Aligned with and masked by Planning Units — make_normalised_raster","text":"Returns SpatRaster object reprojected processed. output_path specified, saves raster COG (Cloud Optimized GeoTIFF).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_normalised_raster.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a Normalised Raster Aligned with and masked by Planning Units — make_normalised_raster","text":"function reprojects input raster (raster_in) match CRS resolution planning units (pus). method reprojection can overridden using method_override. input_raster_conditional_expression provided, applied reprojection. Applying input_raster_conditional_expression can also make processing times significantly longer high resolution input rasters.function can optionally rescale (0-1) invert raster values.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/reference/make_planning_units.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Planning Units Raster — make_planning_units","title":"Create a Planning Units Raster — make_planning_units","text":"Generates planning units (PUs) raster spatial prioritization using user-defined boundary. pu_size provided, function automatically estimates appropriate resolution (meters) keeps number planning units specified threshold (pu_threshold), allowing configurable tolerance (default 5%). finest resolution meeting constraint selected using adaptive increments clean rounding steps. result can optionally saved Cloud Optimized GeoTIFF (.tif).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_planning_units.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Planning Units Raster — make_planning_units","text":"","code":"make_planning_units(   boundary_proj,   pu_size = NULL,   pu_threshold = 850000,   pu_tolerance = 0.05,   limit_to_mainland = FALSE,   iso3,   background_fill = NA,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_planning_units.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Planning Units Raster — make_planning_units","text":"boundary_proj projected sf object representing boundary planning region. Must projected CRS linear units (typically meters). Use make_boundary() generate . pu_size Optional numeric. Length meters square planning unit. NULL, function estimates size keeps total number PUs pu_threshold. pu_threshold Numeric. Maximum number planning units allowed (default 850,000). soft threshold pu_threshold * (1 + pu_tolerance) used optimization. pu_tolerance Numeric. Fractional tolerance (default 0.05, 5%) pu_threshold allowed estimating PU size automatically. limit_to_mainland Logical. Reserved future use. TRUE, limits planning units mainland regions . iso3 Character. ISO3 country code used name output raster (e.g., \"KEN\", \"BRA\"). background_fill value apply pixels outside boundary_proj. default NA (e.g., nodata). good reason wanting use different value. output_path Optional character. Directory path save resulting raster. NULL, raster saved.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_planning_units.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Planning Units Raster — make_planning_units","text":"single-layer SpatRaster object terra package. non-zero cells represent valid planning units.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_planning_units.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Planning Units Raster — make_planning_units","text":"","code":"if (FALSE) { # \\dontrun{ # Automatically estimate PU size to stay under 850,000 PUs boundary_proj <- make_boundary(boundary_in = boundary_dat, iso3 = \"ZMB\", iso3_column = \"iso3cd\") pu_raster <- make_planning_units(boundary_proj, iso3 = \"ZMB\")  # Use a fixed PU size (e.g., 250 meters) pu_raster <- make_planning_units(boundary_proj, pu_size = 250, iso3 = \"ZMB\") } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_postgres_connection.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a PostgreSQL Connection Configuration as a Dictionary — make_postgres_connection","title":"Create a PostgreSQL Connection Configuration as a Dictionary — make_postgres_connection","text":"function generates PostgreSQL connection configuration using named list, can used directly database connection functions.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_postgres_connection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a PostgreSQL Connection Configuration as a Dictionary — make_postgres_connection","text":"","code":"make_postgres_connection(   host = \"localhost\",   dbname,   port = 5432,   user,   password )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_postgres_connection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a PostgreSQL Connection Configuration as a Dictionary — make_postgres_connection","text":"host host database. Defaults 'localhost' local PostgreSQL database, can also accept IP address (e.g., '192.168.1.1'). dbname name PostgreSQL database. parameter required. port port PostgreSQL server running. Defaults 5432. user valid database user name. parameter required. password password specified user. parameter required.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_postgres_connection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a PostgreSQL Connection Configuration as a Dictionary — make_postgres_connection","text":"named list representing PostgreSQL connection configuration.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_postgres_connection.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a PostgreSQL Connection Configuration as a Dictionary — make_postgres_connection","text":"","code":"if (FALSE) { # \\dontrun{ # Example with explicit parameters connection_dict <- make_postgres_connection(   host = 'localhost',   dbname = 'mydatabase',   port = 5432,   user = 'myuser',   password = 'mypassword'   )  # Use the connection dictionary in other functions elsar_load_data(   file_name = 'postgres',   db_info = connection_dict   ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_protect_zone.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Protect Zone Raster for ELSA Analysis — make_protect_zone","title":"Generate Protect Zone Raster for ELSA Analysis — make_protect_zone","text":"function creates SpatRaster layer representing planning units eligible protect actions ELSA framework. Areas high human footprint, agriculture, built-land cover excluded. Optionally, result can inverted serve locked-constraint spatial prioritization tools prioritizr.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_protect_zone.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Protect Zone Raster for ELSA Analysis — make_protect_zone","text":"","code":"make_protect_zone(   iso3,   pus,   current_protected_areas,   lulc_proportions = NULL,   agricultural_areas_input = NULL,   built_areas_input = NULL,   lulc_raster = NULL,   hii_input,   hii_threshold = NULL,   hii_quantile = 0.95,   lulc_product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\", \"local\"),   agriculture_lulc_value = NULL,   built_area_lulc_value = NULL,   agriculture_threshold = 0.1,   built_areas_threshold = 0.1,   filter_patch_size = TRUE,   min_patch_size = 20,   make_locked_out = FALSE,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_protect_zone.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Protect Zone Raster for ELSA Analysis — make_protect_zone","text":"iso3 ISO3 country code (e.g., \"NPL\"). pus SpatRaster defining planning units. current_protected_areas sf SpatVector object current protected areas. NULL, elsar::make_protected_areas() used. lulc_proportions multi-band SpatRaster download_lulc_proportions() containing pre-computed class proportions. provided, bands named \"agriculture\" \"built_area\" used automatically, overriding agricultural_areas_input built_areas_input. agricultural_areas_input SpatRaster representing binary probabilistic agricultural areas (optional). built_areas_input SpatRaster representing binary probabilistic built-areas (optional). lulc_raster SpatRaster LULC map used extract agriculture/built-areas already provided (default: NULL). hii_input SpatRaster Human Footprint Index. hii_threshold fixed numeric HII threshold. NULL, hii_quantile used estimate . hii_quantile quantile threshold (e.g., 0.95) used calculate HII threshold within protected areas hii_threshold NULL. lulc_product Character. LULC product used class value lookups: \"esri_10m\" (default), \"dynamic_world\", \"esa_worldcover\", \"local\". \"local\", explicit class values must provided. agriculture_lulc_value Integer NULL. LULC value representing agriculture. NULL, automatically determined lulc_product. Default NULL. built_area_lulc_value Integer NULL. LULC value representing built-areas. NULL, automatically determined lulc_product. Default NULL. agriculture_threshold Minimum fraction agriculture exclude cell (default: 0.1). built_areas_threshold Minimum fraction built-area exclude cell (default: 0.1). filter_patch_size Logical. Whether remove small isolated patches (default: TRUE). min_patch_size Integer. Minimum patch size retain (raster cells; default: 20). make_locked_out Logical. TRUE, invert raster produce locked-constraint (default: FALSE). output_path Optional directory write result COG.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_protect_zone.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Protect Zone Raster for ELSA Analysis — make_protect_zone","text":"SpatRaster values 1 (eligible) 0 (excluded), inverse make_locked_out = TRUE.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_protect_zone.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Protect Zone Raster for ELSA Analysis — make_protect_zone","text":"Human Footprint Index (HII) threshold can defined either fixed value (hii_threshold) estimated upper 95% quantile (hii_quantile) values within protected areas.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_protect_zone.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Protect Zone Raster for ELSA Analysis — make_protect_zone","text":"","code":"if (FALSE) { # \\dontrun{ protect_zone <- make_protect_zone(   pus = planning_units,   iso3 = \"NPL\",   hii_input = hii_raster,   agricultural_areas_input = crop_raster,   built_areas_input = built_raster,   lulc_raster = NULL,   hii_quantile = 0.95,   output_path = \"outputs/\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_protected_areas.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Binary or Fractional Raster of Protected Areas Aligned to Planning Units — make_protected_areas","title":"Create a Binary or Fractional Raster of Protected Areas Aligned to Planning Units — make_protected_areas","text":"Generates raster protected areas given country, aligned planning units. Data can downloaded Protected Planet database via wdpar package, provided sf object.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_protected_areas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Binary or Fractional Raster of Protected Areas Aligned to Planning Units — make_protected_areas","text":"","code":"make_protected_areas(   pus,   iso3,   from_wdpa = TRUE,   sf_in = NULL,   download_path = NULL,   status = c(\"Established\", \"Inscribed\", \"Designated\"),   site_type = \"PA\",   pa_def = deprecated(),   include_mab_designation = FALSE,   buffer_points = TRUE,   area_column = \"REP_AREA\",   area_calc_crs = \"ESRI:54009\",   n_quad_segs = 50,   binary = TRUE,   threshold = 0.1,   force_update = FALSE,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_protected_areas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Binary or Fractional Raster of Protected Areas Aligned to Planning Units — make_protected_areas","text":"pus SpatRaster. Planning units raster defining output resolution extent. iso3 Character. ISO3 country code (e.g., \"CHL\"). from_wdpa Logical. TRUE, downloads protected area data using wdpar package. FALSE, uses sf_in. Default TRUE. sf_in sf object NULL. Protected area geometries use from_wdpa = FALSE. Required from_wdpa = FALSE. download_path Character NULL. Directory WDPA data saved loaded . Required from_wdpa = TRUE. status Character vector. STATUS values include WDPA data. Valid values: \"Designated\", \"Established\", \"Inscribed\", \"Proposed\", \"Adopted\". Default c(\"Established\", \"Inscribed\", \"Designated\"). site_type Character vector. Values SITE_TYPE column WDPA data. Valid values: \"PA\" (Protected Area) \"OECM\" (Effective Area-based Conservation Measure). Default \"PA\". backward compatibility, numeric values 1 (PA) 0 (OECM) also accepted. pa_def Deprecated. Use site_type instead. Kept backward compatibility. include_mab_designation Logical. FALSE, excludes UNESCO Man Biosphere (MAB) reserves. Default FALSE. buffer_points Logical. TRUE, creates geodesic buffers around point geometries using area attribute. Default TRUE. area_column Character. Column name containing area values buffering point geometries. Default \"REP_AREA\". area_calc_crs Character. CRS use buffer calculations. Default \"ESRI:54009\" (World Mollweide). n_quad_segs Integer. Number segments per quarter circle creating buffers. Default 50. binary Logical. TRUE, output binary (0/1) based threshold. FALSE, returns fractional coverage. Default TRUE. threshold Numeric. Coverage fraction threshold binary classification. Planning units coverage value classified protected. used binary = TRUE. Default 0.10. force_update Logical. TRUE, forces re-download WDPA data even cached. Default FALSE. output_path Character NULL. Directory save output raster. NULL, raster returned saved.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_protected_areas.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Binary or Fractional Raster of Protected Areas Aligned to Planning Units — make_protected_areas","text":"sf_in provided (.e., from_wdpa = FALSE), returns SpatRaster. data downloaded WDPA (from_wdpa = TRUE), returns list : raster SpatRaster protected areas sf sf object dissolved protected area polygons reuse","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_protected_areas.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a Binary or Fractional Raster of Protected Areas Aligned to Planning Units — make_protected_areas","text":"geometries reprojected, dissolved avoid double-counting overlaps, rasterized. output can binary (presence/absence based coverage threshold) fractional (proportion planning unit covered).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_restore_zone.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Restore Zones for Spatial Planning — make_restore_zone","title":"Generate Restore Zones for Spatial Planning — make_restore_zone","text":"Identifies potential restoration areas combining degradation indicators excluding areas unsuitable restoration (e.g., active farmland, urban areas).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_restore_zone.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Restore Zones for Spatial Planning — make_restore_zone","text":"","code":"make_restore_zone(   iso3,   pus,   degradation,   human_pressure,   forest_mask,   lulc_proportions = NULL,   agricultural_areas = NULL,   built_areas = NULL,   lulc = NULL,   degradation_threshold = 0.1,   human_pressure_threshold = 4,   agriculture_threshold = 0.1,   built_area_threshold = 0.1,   forest_threshold = 0.1,   lulc_product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\", \"local\"),   agriculture_lulc_value = NULL,   built_area_lulc_value = NULL,   filter_small_patches = TRUE,   min_patch_size = 10,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_restore_zone.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Restore Zones for Spatial Planning — make_restore_zone","text":"iso3 Character. ISO3 country code (e.g., \"CHL\"). pus SpatRaster. Planning units raster defining output resolution extent. degradation SpatRaster. Raster indicating land degradation. Values -1 treated degraded (e.g., SDG 15.3.1 productivity degradation layer). human_pressure SpatRaster. Raster human pressure/impact values (e.g., Human Footprint Index). Higher values indicate greater pressure. forest_mask SpatRaster. Raster indicating forest ecosystem extent, used create forest-restore zone (v2). Values represent forest cover proportion. lulc_proportions multi-band SpatRaster download_lulc_proportions() containing pre-computed class proportions. provided, bands named \"agriculture\" \"built_area\" used automatically, overriding agricultural_areas built_areas. agricultural_areas SpatRaster NULL. Pre-computed raster agricultural area proportions (0-1). NULL, derived lulc. built_areas SpatRaster NULL. Pre-computed raster built-/urban area proportions (0-1). NULL, derived lulc. lulc SpatRaster NULL. Land use/land cover raster used derive agriculture built-areas provided directly. degradation_threshold Numeric. Proportion threshold area considered degraded (default: 0.1). human_pressure_threshold Numeric. Human pressure value area considered degraded (default: 4). agriculture_threshold Numeric. Proportion threshold area excluded agricultural land (default: 0.1). built_area_threshold Numeric. Proportion threshold area excluded built-land (default: 0.1). forest_threshold Numeric. Minimum forest cover proportion include restore_zone_v2 (default: 0.1). lulc_product Character. LULC product used class value lookups: \"esri_10m\" (default), \"dynamic_world\", \"esa_worldcover\", \"local\". \"local\", explicit class values must provided. agriculture_lulc_value Integer. Class value lulc representing agricultural land (default: 5, ESRI 10m LULC). built_area_lulc_value Integer. Class value lulc representing built-areas (default: 7, ESRI 10m LULC). filter_small_patches Logical. Whether remove small isolated patches output (default: TRUE). min_patch_size Integer. Minimum number connected pixels retain filtering patches (default: 10). output_path Character NULL. Directory save output rasters Cloud Optimized GeoTIFFs. NULL, outputs returned saved.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_restore_zone.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Restore Zones for Spatial Planning — make_restore_zone","text":"SpatRaster two layers: restore_zone_v1 Degraded areas excluding agriculture built-land restore_zone_v2 restore_zone_v1 masked forest ecosystems ","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_restore_zone.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Restore Zones for Spatial Planning — make_restore_zone","text":"function generates two restore zone outputs: restore_zone_v1: degraded areas excluding agriculture built-land restore_zone_v2: v1, masked forest ecosystems Areas classified degraded based either: Land degradation indicators (e.g., productivity decline) Human pressure exceeding threshold Agricultural built-areas can provided directly rasters, derived land use/land cover (LULC) raster specifying class values.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_restore_zone.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Restore Zones for Spatial Planning — make_restore_zone","text":"","code":"if (FALSE) { # \\dontrun{ # Using LULC raster to derive agriculture/built areas restore_zones <- make_restore_zone(   iso3 = \"CHL\",   pus = planning_units,   degradation = degradation_raster,   human_pressure = hfi_raster,   forest_mask = forest_raster,   lulc = lulc_raster,   output_path = \"outputs/\" )  # Using pre-computed agriculture/built area rasters restore_zones <- make_restore_zone(   iso3 = \"CHL\",   pus = planning_units,   degradation = degradation_raster,   human_pressure = hfi_raster,   forest_mask = forest_raster,   agricultural_areas = ag_raster,   built_areas = urban_raster,   output_path = \"outputs/\" )  # Example 3: Using pre-computed agricultural and built areas restore_zone <- make_restore_zone(   iso3 = \"BRA\",   pus = planning_units,   sdg_degradation_input = sdg_raster,   agricultural_areas_input = ag_raster,   built_areas_input = built_raster,   hii_input = hii_raster,   forest_cover_input = forest_raster ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_protection.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Threatened Ecosystems Raster Based on Integrity or Degradation — make_threatened_ecosystems_protection","title":"Create a Threatened Ecosystems Raster Based on Integrity or Degradation — make_threatened_ecosystems_protection","text":"function calculates ecosystem-level threat scores based proportion degraded low-integrity land within ecosystem polygon. supports either Ecological Intactness Index (EII) style continuous integrity raster (thresholded using global median value) binary degraded areas raster.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_protection.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Threatened Ecosystems Raster Based on Integrity or Degradation — make_threatened_ecosystems_protection","text":"","code":"make_threatened_ecosystems_protection(   ecosystems_sf,   group_attribute,   pus,   boundary_layer,   integrity_raster,   integrity_type = c(\"eii\", \"degraded\"),   iso3 = NULL,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_protection.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Threatened Ecosystems Raster Based on Integrity or Degradation — make_threatened_ecosystems_protection","text":"ecosystems_sf sf. Polygons representing ecosystems. group_attribute character. Column name used group/dissolve ecosystems (e.g., \"eco_id\" \"get_id\"). pus SpatRaster. Planning unit raster used alignment rasterization. boundary_layer sf. National boundary used calculate median integrity value integrity_type = \"eii\". integrity_raster SpatRaster. Raster representing either continuous integrity (e.g., EII) binary degraded areas. integrity_type character. One \"eii\" (default) \"degraded\", indicating interpret integrity raster. iso3 character, optional. ISO3 code used naming output files (e.g., \"KEN\"). output_path character, optional. Directory write output raster GeoTIFF.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_protection.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Threatened Ecosystems Raster Based on Integrity or Degradation — make_threatened_ecosystems_protection","text":"SpatRaster one layer: \"threatened_ecosystems\", values 0 100. Higher values indicate greater ecosystem degradation threat.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_protection.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a Threatened Ecosystems Raster Based on Integrity or Degradation — make_threatened_ecosystems_protection","text":"threat score calculated percentage ecosystem area integrity threshold (.e., intact), rasterized planning unit.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_protection.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Threatened Ecosystems Raster Based on Integrity or Degradation — make_threatened_ecosystems_protection","text":"","code":"if (FALSE) { # \\dontrun{ # Using EII (Ecological Integrity Index) threatened_raster_eii <- make_threatened_ecosystems_protection(   ecosystems_sf = my_ecosystems,   group_attribute = \"eco_id\",   pus = planning_units,   boundary_layer = national_boundary,   integrity_raster = eii_raster,   integrity_type = \"eii\",   iso3 = \"KEN\",   output_path = \"outputs\" )  # Using binary degraded areas raster (1 = degraded, 0 = intact) threatened_raster_degraded <- make_threatened_ecosystems_protection(   ecosystems_sf = my_ecosystems,   group_attribute = \"eco_id\",   pus = planning_units,   boundary_layer = national_boundary,   integrity_raster = degraded_raster,   integrity_type = \"degraded\",   iso3 = \"KEN\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_restoration.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Threatened Ecosystems (for Restoration) Raster Based on Intactness and Degradation — make_threatened_ecosystems_restoration","title":"Create Threatened Ecosystems (for Restoration) Raster Based on Intactness and Degradation — make_threatened_ecosystems_restoration","text":"function identifies areas ecologically threatened degraded, representing priority targets ecological restoration. filters threat values threatened_ecosystems_input retain pixels overlap degraded areas indicated degradation_input. output continuous raster threat values masked degraded zones.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_restoration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Threatened Ecosystems (for Restoration) Raster Based on Intactness and Degradation — make_threatened_ecosystems_restoration","text":"","code":"make_threatened_ecosystems_restoration(   iso3,   pus,   threatened_ecosystems_input = NULL,   degradation_input = NULL,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_restoration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Threatened Ecosystems (for Restoration) Raster Based on Intactness and Degradation — make_threatened_ecosystems_restoration","text":"iso3 Character. ISO3 country code (e.g., \"KEN\") used naming processing. pus SpatRaster. Planning units raster used resolution extent. threatened_ecosystems_input SpatRaster. Raster make_threatened_ecosystems() containing ecosystem threat values. degradation_input SpatRaster. Raster make_restore_zone() indicating degraded areas. output_path Character NULL. Optional output directory save resulting raster.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_restoration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Threatened Ecosystems (for Restoration) Raster Based on Intactness and Degradation — make_threatened_ecosystems_restoration","text":"SpatRaster containing threat values masked degraded areas .","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_threatened_ecosystems_restoration.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Threatened Ecosystems (for Restoration) Raster Based on Intactness and Degradation — make_threatened_ecosystems_restoration","text":"","code":"if (FALSE) { # \\dontrun{ threatened_restoration <- make_threatened_ecosystems_restoration(   iso3 = \"KEN\",   pus = planning_units,   threatened_ecosystems_input = rast(\"outputs/threatened_ecosystems_for_protection_KEN.tif\"),   degradation_input = rast(\"outputs/restore_zones_KEN.tif\"),   output_path = \"outputs\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_underrepresented_ecosystems.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Representation Gap Raster for Ecosystems — make_underrepresented_ecosystems","title":"Create a Representation Gap Raster for Ecosystems — make_underrepresented_ecosystems","text":"function calculates representation gap ecosystems provided, identifying fall short 30% protection target. resulting raster layer indicates average degree underrepresentation across planning unit. #'","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_underrepresented_ecosystems.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Representation Gap Raster for Ecosystems — make_underrepresented_ecosystems","text":"","code":"make_underrepresented_ecosystems(   ecosystems_sf,   group_attribute,   target_percent = 30,   protected_areas_sf,   pus,   iso3 = NULL,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_underrepresented_ecosystems.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Representation Gap Raster for Ecosystems — make_underrepresented_ecosystems","text":"ecosystems_sf sf object. Polygon features representing ecosystems, clipped analysis area. group_attribute character. Column name ecosystems_sf used group features (e.g., \"econame\" \"get_id\"). target_percent numeric. Target percentage protection ecosystem group (default = 30). protected_areas_sf sf SpatVector. Protected areas dataset used gap calculation. pus SpatRaster. Raster planning units (e.g., make_planning_units()), used target grid rasterization. iso3 character, optional. ISO3 country code used naming output files (e.g., \"BRA\"). output_path character, optional. Directory path save output raster GeoTIFF.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_underrepresented_ecosystems.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Representation Gap Raster for Ecosystems — make_underrepresented_ecosystems","text":"SpatRaster one layer: \"underrepresented_ecosystems\", showing maximum gap (0 target_percent) per planning unit.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_underrepresented_ecosystems.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Representation Gap Raster for Ecosystems — make_underrepresented_ecosystems","text":"","code":"if (FALSE) { # \\dontrun{ gap_raster <- make_underrepresented_ecosystems(   ecosystems_sf = my_ecosystem_polygons,   group_attribute = \"eco_type\",   target_percent = 30,   protected_areas_sf = wdpa,   pus = planning_units,   iso3 = \"KEN\",   output_path = \"outputs\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_opportunities.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Urban Greening Opportunities Raster — make_urban_greening_opportunities","title":"Create Urban Greening Opportunities Raster — make_urban_greening_opportunities","text":"function generates urban greening opportunities raster integrating NDVI (Normalized Difference Vegetation Index), land use/land cover (LULC) classification pre-computed built areas raster, urban heat intensity SDEI/GHS data. identifies urban pixels high heat exposure low greenness targeted greening interventions.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_opportunities.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Urban Greening Opportunities Raster — make_urban_greening_opportunities","text":"","code":"make_urban_greening_opportunities(   ndvi_raster,   lulc_raster = NULL,   lulc_product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\", \"local\"),   built_area_lulc_value = NULL,   built_areas_raster = NULL,   sdei_statistics,   threshold = 0.1,   pus,   iso3,   return_urban_areas = FALSE,   output_path = NULL,   cores = 4 )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_opportunities.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Urban Greening Opportunities Raster — make_urban_greening_opportunities","text":"ndvi_raster SpatRaster representing NDVI values. lulc_raster Optional. SpatRaster representing land use/land cover (LULC) classes. Required built_areas_raster provided. lulc_product Character. LULC product used class value lookups: \"esri_10m\" (default), \"dynamic_world\", \"esa_worldcover\", \"local\". \"local\", built_area_lulc_value must explicitly provided. built_area_lulc_value Integer NULL. LULC value representing built-/urban areas. NULL, automatically determined lulc_product. Default NULL. built_areas_raster Optional. SpatRaster representing pre-classified binary built areas (1 = built, 0 = non-built). Skips internal classification lulc_raster. Required lulc_raster provided. sdei_statistics sf object urban heat exposure data (e.g., WBGT statistics). threshold Numeric. fractional threshold (0–1) classify planning units urban aggregation. Planning units built area fraction threshold considered urban. Default 0.10. pus SpatRaster defining planning units. iso3 Character. ISO3 country code used subset sdei_statistics. return_urban_areas Logical. TRUE, returns two-layer stack greening opportunities binary urban extent. output_path Optional. Directory path save resulting raster(s). cores Integer. Number CPU cores use (future expansion, currently unused).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_opportunities.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Urban Greening Opportunities Raster — make_urban_greening_opportunities","text":"normalized SpatRaster representing urban greening opportunities. return_urban_areas = TRUE, returns raster stack greening opportunities raster binary built areas raster.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_opportunities.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create Urban Greening Opportunities Raster — make_urban_greening_opportunities","text":"built areas layer can sourced either precomputed binary raster (built_areas_raster) derived dynamically LULC raster (lulc_raster), classified --fly extract urban pixels. aggregating built areas planning units, fractional values thresholded generate binary raster representing urban (1) non-urban (0) planning units.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_opportunities.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Urban Greening Opportunities Raster — make_urban_greening_opportunities","text":"","code":"if (FALSE) { # \\dontrun{ result <- make_urban_greening_opportunities(   ndvi_raster = ndvi,   built_areas_raster = built_binary,   sdei_statistics = sdei,   pus = planning_units,   iso3 = \"BRA\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_zone.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Urban Greening Zone Raster for ELSA Analysis — make_urban_greening_zone","title":"Generate Urban Greening Zone Raster for ELSA Analysis — make_urban_greening_zone","text":"function creates SpatRaster layer representing planning units urban greening interventions applicable ELSA framework. Urban Greening Zone identifies built/urban areas greening actions (e.g., tree planting, green infrastructure) can implemented.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_zone.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Urban Greening Zone Raster for ELSA Analysis — make_urban_greening_zone","text":"","code":"make_urban_greening_zone(   iso3,   pus,   built_areas_input = NULL,   lulc_proportions = NULL,   lulc_raster = NULL,   lulc_product = c(\"esri_10m\", \"dynamic_world\", \"esa_worldcover\", \"local\"),   built_area_lulc_value = NULL,   built_area_threshold = 0,   filter_patch_size = FALSE,   min_patch_size = 10,   output_path = NULL )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_zone.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Urban Greening Zone Raster for ELSA Analysis — make_urban_greening_zone","text":"iso3 ISO3 country code (e.g., \"NPL\"). pus SpatRaster defining planning units. built_areas_input SpatRaster representing binary probabilistic built-areas (optional). provided, takes priority extraction inputs. lulc_proportions multi-band SpatRaster list download_lulc_proportions() containing pre-computed class proportions. provided contains \"built_area\", used built_areas_input NULL. lulc_raster SpatRaster LULC map used extract built-areas already provided (default: NULL). lulc_product Character. LULC product used class value lookups: \"esri_10m\" (default), \"dynamic_world\", \"esa_worldcover\", \"local\". \"local\", built_area_lulc_value must provided. built_area_lulc_value Integer NULL. LULC value representing built-areas. NULL, automatically determined lulc_product. Default NULL. built_area_threshold Minimum fraction built-area included (default: 0). threshold 0 includes urban areas, recommended since urban areas often small preserved. filter_patch_size Logical. Whether remove small isolated patches (default: FALSE). Defaults FALSE urban areas often small preserved. min_patch_size Integer. Minimum patch size retain (raster cells; default: 10). used filter_patch_size = TRUE. output_path Optional directory write result COG.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_zone.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Urban Greening Zone Raster for ELSA Analysis — make_urban_greening_zone","text":"SpatRaster values 1 (urban greening zone) 0 (urban).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_zone.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Urban Greening Zone Raster for ELSA Analysis — make_urban_greening_zone","text":"zone simpler Protect, Restore, Manage zones single primary input (built/urban areas). essentially transforms built area raster formal zone layer consistency ELSA framework.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_urban_greening_zone.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Urban Greening Zone Raster for ELSA Analysis — make_urban_greening_zone","text":"","code":"if (FALSE) { # \\dontrun{ urban_greening_zone <- make_urban_greening_zone(   pus = planning_units,   iso3 = \"NPL\",   built_areas_input = built_raster,   output_path = \"outputs/\" ) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/make_wetlands_ramsar.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Standardised Raster for Wetlands and Ramsar Sites — make_wetlands_ramsar","title":"Create a Standardised Raster for Wetlands and Ramsar Sites — make_wetlands_ramsar","text":"function processes combines Ramsar global wetlands data produce standardised raster layer aligned planning units. supports handling Ramsar point geometries buffering polygons required, allows filtering normalisation based user-defined thresholds. Either Ramsar Wetlands data can provided, .","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_wetlands_ramsar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Standardised Raster for Wetlands and Ramsar Sites — make_wetlands_ramsar","text":"","code":"make_wetlands_ramsar(   ramsar_in = NULL,   wetlands_in = NULL,   pus,   iso3,   buffer_points = TRUE,   area_column = \"area_ha\",   nQuadSegs = 50,   wetland_threshold = 0.25,   return_all = FALSE )"},{"path":"https://elsa-undp.github.io/elsar/reference/make_wetlands_ramsar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Standardised Raster for Wetlands and Ramsar Sites — make_wetlands_ramsar","text":"ramsar_in Ramsar site data. Can one : sf object containing Ramsar site geometries (points /polygons) character path GeoPackage file. gpkg contains separate \"centroids\" \"boundaries\" layers, read combined automatically. wetlands_in SpatRaster object representing global wetlands data (optional). pus SpatRaster object containing planning units used resolution extent. iso3 character string ISO3 country code (e.g., \"KEN\"). buffer_points Logical. relevant \"POINT\" \"MULTIPOINT\" geometries exist. TRUE, circular buffers generated area attribute (default: TRUE). area_column string indicating name column containing site area (hectares). Used buffering point geometries (default: \"area_ha\"). nQuadSegs integer specifying number segments used approximate circular buffer (default: 50). wetland_threshold Numeric. Threshold binarising wetlands raster (default: 0.25). return_all Logical. TRUE, returns raster stack containing combined wetlands+ramsar raster, well individual normalised input layers.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/make_wetlands_ramsar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Standardised Raster for Wetlands and Ramsar Sites — make_wetlands_ramsar","text":"SpatRaster object. return_all = TRUE, returns raster stack three layers: combined, ramsar , wetlands .","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/median_from_rast.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute median from a SpatRaster using its GDAL PAM side-car histogram — median_from_rast","title":"Compute median from a SpatRaster using its GDAL PAM side-car histogram — median_from_rast","text":"Extracts histogram stored GDAL PAM side-car XML file (e.g. raster.tif.aux.xml) computes exact median value finding bucket midpoint cumulative count reaches 50%.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/median_from_rast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute median from a SpatRaster using its GDAL PAM side-car histogram — median_from_rast","text":"","code":"median_from_rast(r)"},{"path":"https://elsa-undp.github.io/elsar/reference/median_from_rast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute median from a SpatRaster using its GDAL PAM side-car histogram — median_from_rast","text":"r SpatRaster (terra) whose underlying file GDAL PAM side-car XML (e.g. raster.tif.aux.xml).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/median_from_rast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute median from a SpatRaster using its GDAL PAM side-car histogram — median_from_rast","text":"single numeric value: median raster (bucket midpoint).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/median_from_rast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute median from a SpatRaster using its GDAL PAM side-car histogram — median_from_rast","text":"running function, must generate histogram side‑car: terminal, run:   computes stores histogram /path//.tif.aux.xml. side-car exists, calling function reads stored <Histogram> data without re-scanning pixel values returns exact median bucket midpoint.","code":"gdalinfo -hist /path/to/your.tif"},{"path":"https://elsa-undp.github.io/elsar/reference/median_from_rast.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute median from a SpatRaster using its GDAL PAM side-car histogram — median_from_rast","text":"","code":"if (FALSE) { # \\dontrun{ library(terra) r <- rast(\"eii_2023.tif\") # First, in the shell: #   gdalinfo -hist eii_2023.tif med <- median_from_rast(r) } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/merge_tiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge downloaded GEE tiles into a single Cloud-Optimized GeoTIFF — merge_tiles","title":"Merge downloaded GEE tiles into a single Cloud-Optimized GeoTIFF — merge_tiles","text":"Takes multiple downloaded GeoTIFF tiles merges single Cloud-Optimized GeoTIFF (COG) appropriate compression optimization.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/merge_tiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge downloaded GEE tiles into a single Cloud-Optimized GeoTIFF — merge_tiles","text":"","code":"merge_tiles(local_path, output_file, datatype)"},{"path":"https://elsa-undp.github.io/elsar/reference/merge_tiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge downloaded GEE tiles into a single Cloud-Optimized GeoTIFF — merge_tiles","text":"local_path Character. Path directory containing downloaded tile files output_file Character. Full path output merged COG file datatype Character. GDAL datatype output raster (e.g., \"INT1U\", \"FLT4S\")","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/merge_tiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge downloaded GEE tiles into a single Cloud-Optimized GeoTIFF — merge_tiles","text":"SpatRaster object merged written COG","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/merge_tiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Merge downloaded GEE tiles into a single Cloud-Optimized GeoTIFF — merge_tiles","text":"","code":"if (FALSE) { # \\dontrun{ merged_raster <- merge_tiles(\"/tmp/tiles\", \"/output/merged.tif\", \"INT1U\") } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://elsa-undp.github.io/elsar/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/rescale_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Rescale Raster to 0-1 Range — rescale_raster","title":"Rescale Raster to 0-1 Range — rescale_raster","text":"function rescales values raster range 0 1.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/rescale_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rescale Raster to 0-1 Range — rescale_raster","text":"","code":"rescale_raster(   raster_in,   raster_in_min = terra::global(raster_in, min, na.rm = TRUE)$min,   raster_in_max = terra::global(raster_in, max, na.rm = TRUE)$max,   new_min = 0,   new_max = 1 )"},{"path":"https://elsa-undp.github.io/elsar/reference/rescale_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rescale Raster to 0-1 Range — rescale_raster","text":"raster_in Input SpatRaster rescaled. raster_in_min Optional numeric. Minimum value input raster. NULL, calculated. raster_in_max Optional numeric. Maximum value input raster. NULL, calculated. new_min Numeric. New minimum rescaled raster (default = 0). new_max Numeric. New maximum rescaled raster (default = 1).","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/rescale_raster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rescale Raster to 0-1 Range — rescale_raster","text":"SpatRaster values rescaled specified range.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/save_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Save a Raster as a Cloud Optimized GeoTIFF (COG) — save_raster","title":"Save a Raster as a Cloud Optimized GeoTIFF (COG) — save_raster","text":"helper function saves SpatRaster disk Cloud Optimized GeoTIFF (COG) ZSTD compression. automatically sets appropriate GDAL predictor based data type optimize file size performance. floating point rasters (FLT4S), Predictor 3 used, integer rasters, Predictor 2 used, improves compressibility. nodata value also automatically defined applied: 255 integer rasters (e.g. \"INT1U\") NaN floating point rasters.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/save_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save a Raster as a Cloud Optimized GeoTIFF (COG) — save_raster","text":"","code":"save_raster(raster, filename, datatype = \"FLT4S\")"},{"path":"https://elsa-undp.github.io/elsar/reference/save_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save a Raster as a Cloud Optimized GeoTIFF (COG) — save_raster","text":"raster SpatRaster object saved. filename Character. Full file path (including .tif extension) raster saved. datatype Character. GDAL data type use saving raster (e.g. \"FLT4S\" float, \"INT1U\" unsigned byte). Default \"FLT4S\".","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/save_raster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save a Raster as a Cloud Optimized GeoTIFF (COG) — save_raster","text":"None. function called side effect saving raster disk.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/save_raster.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Save a Raster as a Cloud Optimized GeoTIFF (COG) — save_raster","text":"function used across processing functions ensure consistent raster output formats.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/save_raster.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Save a Raster as a Cloud Optimized GeoTIFF (COG) — save_raster","text":"","code":"if (FALSE) { # \\dontrun{ save_raster(my_raster, \"output/my_raster.tif\", datatype = \"INT1U\") save_raster(my_raster, \"output/my_raster_float.tif\", datatype = \"FLT4S\") } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/split_bbox_into_tiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Split a Bounding Box into a Regular Grid of Polygon Tiles — split_bbox_into_tiles","title":"Split a Bounding Box into a Regular Grid of Polygon Tiles — split_bbox_into_tiles","text":"Given input sf object, function extracts bounding box divides regular grid rectangular polygon tiles using specified number columns rows.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/split_bbox_into_tiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split a Bounding Box into a Regular Grid of Polygon Tiles — split_bbox_into_tiles","text":"","code":"split_bbox_into_tiles(bbox_sf, ncols = 2, nrows = 2)"},{"path":"https://elsa-undp.github.io/elsar/reference/split_bbox_into_tiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split a Bounding Box into a Regular Grid of Polygon Tiles — split_bbox_into_tiles","text":"bbox_sf sf object. bounding box used; geometries inside ignored. ncols Integer. Number columns split bounding box . Default 2. nrows Integer. Number rows split bounding box . Default 2.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/split_bbox_into_tiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split a Bounding Box into a Regular Grid of Polygon Tiles — split_bbox_into_tiles","text":"sf object consisting rectangular polygons covering bounding box input. polygon represents tile grid. geometries valid.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/split_bbox_into_tiles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Split a Bounding Box into a Regular Grid of Polygon Tiles — split_bbox_into_tiles","text":"useful spatially chunking large geometries speed operations like intersection cropping, especially used spatial indexing.","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/split_bbox_into_tiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split a Bounding Box into a Regular Grid of Polygon Tiles — split_bbox_into_tiles","text":"","code":"if (FALSE) { # \\dontrun{   world <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"))   tiles <- split_bbox_into_tiles(world, ncols = 3, nrows = 3)   plot(st_geometry(world))   plot(st_geometry(tiles), add = TRUE, border = \"red\") } # }"},{"path":"https://elsa-undp.github.io/elsar/reference/wad_subset.html","id":null,"dir":"Reference","previous_headings":"","what":"Get wad data saved as tif — get_wad_data","title":"Get wad data saved as tif — get_wad_data","text":"Get wad data saved tif","code":""},{"path":"https://elsa-undp.github.io/elsar/reference/wad_subset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get wad data saved as tif — get_wad_data","text":"","code":"get_wad_data()"},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/news/index.html","id":"new-features-0-1-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"elsar 0.1.0","text":"Added file naming conventions vignette documenting standardised naming patterns ELSA pipeline inputs, outputs, figures. Added dark mode toggle pkgdown website. Added make_urban_greening_zone() pkgdown reference index.","code":""},{"path":"https://elsa-undp.github.io/elsar/news/index.html","id":"improvements-0-1-0","dir":"Changelog","previous_headings":"","what":"Improvements","title":"elsar 0.1.0","text":"Fixed stale incorrect function names. Added missing datasets (degraded areas, flood abatement, indigenous managed lands). Added “Since” column tracking version introduced function. Documented removed/deprecated datasets dedicated section. Added version tracking column dataset reference table.","code":""},{"path":"https://elsa-undp.github.io/elsar/news/index.html","id":"internal-changes-0-1-0","dir":"Changelog","previous_headings":"","what":"Internal Changes","title":"elsar 0.1.0","text":"Bumped version 0.1.0 reflect API stability.","code":""},{"path":[]},{"path":"https://elsa-undp.github.io/elsar/news/index.html","id":"new-features-0-0-7","dir":"Changelog","previous_headings":"","what":"New Features","title":"elsar 0.0.7","text":"Added Land Use/Land Cover (LULC) download functions multiple data products: download_lulc_data() - unified interface LULC data download_dynamic_world_data() - Google Dynamic World download_esa_worldcover_data() - ESA WorldCover download_esri_lulc_data() - ESRI Land Cover download_lulc_class_proportion() download_lulc_proportions() - class proportion calculations Added GEE/conda helper functions improved Google Earth Engine integration: create_gee_conda_env() - automated conda environment setup find_conda_base() find_env_python() - conda path utilities get_crs_wkt() - CRS WKT string extraction Added multi-LULC product support GEE-side aggregation Exported check_and_download_required_layers() checking downloading required data layers","code":""},{"path":"https://elsa-undp.github.io/elsar/news/index.html","id":"bug-fixes-0-0-7","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"elsar 0.0.7","text":"Fixed “missing value TRUE/FALSE needed” error make_urban_greening_opportunities() input data contains NA values filter columns Fixed “missing value TRUE/FALSE needed” error make_normalised_raster() checking empty raster values Fixed “[subset] (valid) layer selected” error get_binary_layers() raster stack zero layers subsetting returns empty indices Fixed “Python int large convert C long” error Windows accessing GEE task status (timestamps exceed 32-bit integer range) Fixed GEE multi-tile export bug tiles downloaded large areas (e.g., Chile pasturelands). Now waits tiles appear downloading Fixed curve geometry handling make_ramsar_sites() improved gpkg support Fixed KBA geometry handling issues Fixed extent alignment bug zone functions (make_protect_zone(), make_restore_zone(), make_manage_zone()) Fixed operator precedence bug make_threatened_ecosystems_restoration() Fixed syntax error make_restore_zone()","code":""},{"path":"https://elsa-undp.github.io/elsar/news/index.html","id":"improvements-0-0-7","dir":"Changelog","previous_headings":"","what":"Improvements","title":"elsar 0.0.7","text":"Updated make_protected_areas() WDPA schema changes Standardized logging input validation across functions Improved package documentation README Sanitized filenames saved plots Added logging HII threshold values Refactored restore zone creation allow single version output","code":""},{"path":"https://elsa-undp.github.io/elsar/news/index.html","id":"deprecations-0-0-7","dir":"Changelog","previous_headings":"","what":"Deprecations","title":"elsar 0.0.7","text":"Deprecated elsar_plot_static_raster_c() elsar_plot_static_raster_d() favor unified plotting API Deprecated get_iucn_ecosystems() get_iucn_forests() functions Deprecated pa_def parameter make_protected_areas() - use status_filter instead","code":""},{"path":"https://elsa-undp.github.io/elsar/news/index.html","id":"internal-changes-0-0-7","dir":"Changelog","previous_headings":"","what":"Internal Changes","title":"elsar 0.0.7","text":"Removed unused make_elsa_problem.R Consolidated utility files (utils-elsa_plotting.R, utils-elsa_posthoc.R, utils-pipeline.R) Improved logging function standardized messaging Added lifecycle, future, purrr, rappdirs, xml2 Imports","code":""}]
