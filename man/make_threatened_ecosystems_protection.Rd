% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/make_threatened_ecosystems_protection.R
\name{make_threatened_ecosystems_protection}
\alias{make_threatened_ecosystems_protection}
\title{Create a Threatened Ecosystems Raster Based on Integrity or Degradation}
\usage{
make_threatened_ecosystems_protection(
  ecosystems_sf,
  group_attribute,
  pus,
  boundary_layer,
  integrity_raster,
  integrity_type = c("eii", "degraded"),
  iso3 = NULL,
  output_path = NULL
)
}
\arguments{
\item{ecosystems_sf}{sf. Polygons representing ecosystems.}

\item{group_attribute}{Character. Column name to group/dissolve ecosystems by (e.g., "eco_id").}

\item{pus}{SpatRaster. Planning unit raster for alignment and rasterization.}

\item{boundary_layer}{sf. National boundary used to compute the median EII if \code{integrity_type = "eii"}.}

\item{integrity_raster}{SpatRaster. Raster representing either EII (continuous) or degraded areas (binary).}

\item{integrity_type}{Character. One of \code{"eii"} (default) or \code{"degraded"}, indicating how to interpret \code{integrity_raster}.}

\item{iso3}{Optional character. ISO3 country code for naming (e.g., "KEN").}

\item{output_path}{Optional character. Folder path to save the output raster.}
}
\value{
A \code{SpatRaster} with one layer: \code{"threatened_ecosystems"} (range 0â€“100).
}
\description{
This generic function calculates ecosystem-level threat scores based on the
proportion of degraded or low-integrity land within each ecosystem polygon.
It supports either an EII-style continuous integrity raster (thresholded using
the national median) or a binary degraded areas raster.
}
\examples{
\dontrun{
# Using EII (ecological integrity index)
threatened_raster_eii <- make_threatened_ecosystems_protection(
  ecosystems_sf = my_ecosystems,
  group_attribute = "eco_id",
  pus = planning_units,
  boundary_layer = national_boundary,
  integrity_raster = eii_raster,
  integrity_type = "eii",
  iso3 = "KEN",
  output_path = "outputs"
)

# Using a binary degraded areas raster (0 = intact, 1 = degraded)
threatened_raster_degraded <- make_threatened_ecosystems_protection(
  ecosystems_sf = my_ecosystems,
  group_attribute = "eco_id",
  pus = planning_units,
  boundary_layer = national_boundary,
  integrity_raster = degraded_raster,
  integrity_type = "degraded",
  iso3 = "KEN"
)

}
}
