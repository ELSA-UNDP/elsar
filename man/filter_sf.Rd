% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{filter_sf}
\alias{filter_sf}
\title{Load and optionally filter a single vector layer}
\usage{
filter_sf(
  file_path,
  iso3 = NULL,
  iso3_column = NULL,
  layer_name = NULL,
  drop3d = TRUE,
  wkt_filter = NULL,
  file_type = NULL
)
}
\arguments{
\item{file_path}{Character. Full file path to the vector dataset.}

\item{iso3}{Character or NULL. ISO3 country code used for attribute filtering.}

\item{iso3_column}{Character or NULL. Column in the dataset to match \code{iso3}.}

\item{layer_name}{Character or NULL. Optional. Specific layer name for multi-layer formats.}

\item{drop3d}{Logical. If TRUE, drops Z and M dimensions from geometries.}

\item{wkt_filter}{Character or NULL. Optional WKT string used for spatial filtering.}

\item{file_type}{Character or NULL. File type used to determine if layer name inference is required.}
}
\value{
An \code{sf} object with valid geometry, or \code{NULL} on failure.
}
\description{
This utility function wraps \code{sf::st_read()} to load a vector dataset (e.g., from GPKG, GDB, or SHP).
It supports optional filtering by ISO3 country code and/or a spatial filter in WKT format.
It automatically selects the first available layer if \code{layer_name} is not provided and the file type supports layers.
}
\examples{
\dontrun{
filter_sf("data/layers.gpkg", iso3 = "KEN", iso3_column = "ISO3")
filter_sf("data/boundary.shp", wkt_filter = "POLYGON((...))")
}
}
