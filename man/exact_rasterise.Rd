% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{exact_rasterise}
\alias{exact_rasterise}
\title{Efficient Attribute-Weighted Rasterization Using Coverage Fraction}
\usage{
exact_rasterise(
  features,
  attribute,
  iso3,
  pus,
  invert = FALSE,
  rescaled = TRUE,
  fun = mean,
  cores = 4
)
}
\arguments{
\item{features}{An \code{sf} or \code{SpatVector} object containing the vector features to rasterize.}

\item{attribute}{Character. The column name in \code{features} to use as a weight for raster values.}

\item{iso3}{Character. ISO3 country code, passed to \code{make_normalised_raster()}.}

\item{pus}{A \code{SpatRaster} object defining the resolution, extent, and CRS of the output raster.}

\item{invert}{Logical. If \code{TRUE}, inverts the resulting values during normalization (default: \code{FALSE}).}

\item{rescaled}{Logical. If \code{TRUE}, rescales the output to 0â€“1 using \code{make_normalised_raster()} (default: \code{TRUE}).}

\item{fun}{Function. Aggregation function applied across overlapping rasterized features (default: \code{mean}).}

\item{cores}{Integer. Number of CPU cores to use for multi-core processing (default: 4).}
}
\value{
A \code{SpatRaster} object representing the attribute-weighted rasterization of the input features.
}
\description{
Rasterizes vector features to a raster grid defined by a planning unit (\code{pus}) layer,
assigning values based on a given attribute and the actual coverage fraction of
each feature over each raster cell. This method is optimized for speed and precision
and is especially useful when features overlap or vary in size and shape.
}
\details{
If multiple features are provided, each is rasterized independently and aggregated
across the stack using the specified function (\code{fun}), typically \code{sum}, \code{mean}, or \code{max}.
}
\examples{
\dontrun{
# Rasterize polygons using a 'score' attribute
result <- exact_rasterise(features = my_polygons, attribute = "score", pus = my_raster, fun = sum)
}
}
